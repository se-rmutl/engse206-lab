# ENGSE206: Software Requirements & Design
## à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸—à¸µà¹ˆ 6: à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

### Software Engineering Course: Architecture Design Workshop
**Agent Wallboard System Case Study**

---

## Slide 1: Course Overview & Weekly Progress

### ðŸ“š à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸—à¸µà¹ˆà¹à¸¥à¹‰à¸§: à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸—à¸µà¹ˆ 5
âœ… **à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¹€à¸£à¸µà¸¢à¸™à¸¡à¸²à¹à¸¥à¹‰à¸§:**
- à¸«à¸¥à¸±à¸à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸šà¸žà¸·à¹‰à¸™à¸à¸²à¸™: SOLID, DRY, KISS, YAGNI
- à¸ªà¸–à¸²à¸›à¸±à¸•à¸¢à¸à¸£à¸£à¸¡ 3-Tier Architecture
- **C4 Model:** C1 (System Context) à¹à¸¥à¸° C2 (Containers)
- à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸š Architecture à¸£à¸°à¸”à¸±à¸šà¸ªà¸¹à¸‡

### ðŸŽ¯ **à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸™à¸µà¹‰: à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸—à¸µà¹ˆ 6**
**à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ:** à¸­à¸­à¸à¹à¸šà¸šà¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸žà¸·à¹ˆà¸­à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸£à¸°à¸šà¸š à¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¸£à¹‰à¸²à¸‡ ER Diagram à¹à¸¥à¸°à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸à¸²à¸£à¹€à¸¥à¸·à¸­à¸à¹ƒà¸Šà¹‰à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

**à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸«à¸¥à¸±à¸:**
1. ðŸ“Š à¸«à¸¥à¸±à¸à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸šà¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸° Data Modeling
2. ðŸ—‚ï¸ Entity-Relationship (ER) Diagram
3. ðŸ”§ à¸à¸²à¸£à¸—à¸³ Normalization à¸žà¸·à¹‰à¸™à¸à¸²à¸™
4. ðŸ¤” à¸à¸²à¸£à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆà¹€à¸¥à¸·à¸­à¸à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ SQL vs NoSQL

### ðŸŽª **Case Study:** Agent Wallboard System
**à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸£à¸°à¸šà¸š Call Center à¸—à¸µà¹ˆà¹à¸ªà¸”à¸‡à¸ªà¸–à¸²à¸™à¸°à¹à¸¥à¸°à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸žà¸‚à¸­à¸‡ Agents à¹à¸šà¸š Real-time**

---

## Slide 2: Agent Wallboard System Overview

### ðŸŽ¯ **Agent Wallboard System à¸„à¸·à¸­à¸­à¸°à¹„à¸£?**

**Agent Wallboard System** à¸„à¸·à¸­à¸£à¸°à¸šà¸šà¹à¸ªà¸”à¸‡à¸œà¸¥à¸ªà¸–à¸²à¸™à¸°à¹à¸¥à¸°à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸žà¸‚à¸­à¸‡à¸žà¸™à¸±à¸à¸‡à¸²à¸™ Call Center à¹à¸šà¸š Real-time à¸šà¸™à¸ˆà¸­à¹à¸ªà¸”à¸‡à¸œà¸¥à¸‚à¸™à¸²à¸”à¹ƒà¸«à¸à¹ˆ

### ðŸ¢ **Context à¹à¸¥à¸°à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸ˆà¸£à¸´à¸‡**
```
ðŸ“ž Call Center Environment
â”œâ”€â”€ 50-200 Agents à¸—à¸³à¸‡à¸²à¸™à¸žà¸£à¹‰à¸­à¸¡à¸à¸±à¸™
â”œâ”€â”€ 10+ Supervisors à¸„à¸§à¸šà¸„à¸¸à¸¡à¹à¸¥à¸°à¸•à¸´à¸”à¸•à¸²à¸¡
â”œâ”€â”€ Real-time Dashboard à¸šà¸™à¸ˆà¸­ TV à¸‚à¸™à¸²à¸”à¹ƒà¸«à¸à¹ˆ
â””â”€â”€ Performance Metrics à¹à¸¥à¸° KPIs à¹à¸ªà¸”à¸‡à¹à¸šà¸š Live
```

### ðŸŽª **à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸«à¸¥à¸±à¸**
- **Real-time Agent Status:** Available, Busy, Break, Offline
- **Call Statistics:** Total calls, Answer rate, Average handling time
- **Performance Ranking:** Top performers, Team leaderboards
- **Alert System:** SLA violations, Long queue times
- **Historical Reports:** Daily, weekly, monthly analytics

### ðŸ’¼ **Stakeholders**
- **Call Center Agents:** à¸”à¸¹à¸ªà¸–à¸²à¸™à¸°à¸•à¸™à¹€à¸­à¸‡à¹à¸¥à¸°à¸—à¸µà¸¡
- **Supervisors:** à¸•à¸´à¸”à¸•à¸²à¸¡à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸žà¹à¸¥à¸°à¸ˆà¸±à¸”à¸à¸²à¸£à¸—à¸µà¸¡
- **Managers:** à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ Performance à¹à¸¥à¸° KPIs
- **IT Support:** à¸šà¸³à¸£à¸¸à¸‡à¸£à¸±à¸à¸©à¸²à¸£à¸°à¸šà¸šà¹à¸¥à¸°à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²

---

## Slide 3: From Architecture to Data Design

### ðŸ”„ **à¸ˆà¸²à¸à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸—à¸µà¹ˆ 5 à¸ªà¸¹à¹ˆà¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸—à¸µà¹ˆ 6**

**à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸—à¸µà¹ˆ 5: C2 Container Diagram Review**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Agent Wallboard System               â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Web App   â”‚    â”‚   Mobile     â”‚   â”‚  Display    â”‚ â”‚
â”‚  â”‚  (React.js) â”‚    â”‚    App       â”‚   â”‚  Dashboard  â”‚ â”‚
â”‚  â”‚             â”‚â”€â”€â”€â”€â”¤              â”‚â”€â”€â”€â”‚   (Vue.js)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                   â”‚                   â”‚      â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                             â”‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚              API Gateway                            â”‚
â”‚  â”‚              (Node.js)                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                    â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         â”‚  Agent Service â”‚     â”‚  Analytics        â”‚ â”‚
â”‚  â”‚         â”‚  (Node.js)     â”‚     â”‚  Service          â”‚ â”‚
â”‚  â”‚         â”‚                â”‚     â”‚  (Python)         â”‚ â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”‚                 â”‚                        â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  â”‚           Database Layer                        â”‚ â”‚
â”‚  â”‚  â”‚     (PostgreSQL + Redis Cache)                  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸—à¸µà¹ˆ 6: à¸‚à¸¸à¸”à¸¥à¸¶à¸à¹ƒà¸™ Database Layer**

ðŸŽ¯ **à¸§à¸±à¸™à¸™à¸µà¹‰à¹€à¸£à¸²à¸ˆà¸°à¹€à¸ˆà¸²à¸°à¸¥à¸¶à¸:**
- à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸°à¹„à¸£à¸šà¹‰à¸²à¸‡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¹€à¸à¹‡à¸šà¹ƒà¸™ Database?
- à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸›à¹‡à¸™à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£?
- à¸ˆà¸°à¸­à¸­à¸à¹à¸šà¸š Database Schema à¸­à¸¢à¹ˆà¸²à¸‡à¹„à¸£à¹ƒà¸«à¹‰à¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡?
- à¹€à¸¥à¸·à¸­à¸à¹ƒà¸Šà¹‰ SQL à¸«à¸£à¸·à¸­ NoSQL?

---

## Slide 4: Data Modeling Fundamentals

### ðŸ“Š **Data Modeling à¸„à¸·à¸­à¸­à¸°à¹„à¸£?**

> **Data Modeling** à¸„à¸·à¸­à¸à¸£à¸°à¸šà¸§à¸™à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸šà¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸žà¸·à¹ˆà¸­à¸£à¸°à¸šà¸¸ entities, attributes, à¹à¸¥à¸°à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¸—à¸µà¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™à¸ªà¸³à¸«à¸£à¸±à¸šà¸£à¸°à¸šà¸š

### ðŸ—ï¸ **3 à¸£à¸°à¸”à¸±à¸šà¸‚à¸­à¸‡ Data Modeling**

```
1. ðŸ“ Conceptual Level (à¸£à¸°à¸”à¸±à¸šà¹à¸™à¸§à¸„à¸´à¸”)
   â”œâ”€â”€ à¹€à¸™à¹‰à¸™à¸„à¸§à¸²à¸¡à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸—à¸²à¸‡à¸˜à¸¸à¸£à¸à¸´à¸ˆ
   â”œâ”€â”€ à¹„à¸¡à¹ˆà¹€à¸ˆà¸²à¸°à¸¥à¸¶à¸à¸—à¸²à¸‡à¹€à¸—à¸„à¸™à¸´à¸„
   â””â”€â”€ à¹ƒà¸Šà¹‰ High-level Entities

2. ðŸ—‚ï¸ Logical Level (à¸£à¸°à¸”à¸±à¸šà¸•à¸£à¸£à¸à¸°)
   â”œâ”€â”€ à¹€à¸ˆà¸²à¸°à¸¥à¸¶à¸à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ
   â”œâ”€â”€ à¸à¸³à¸«à¸™à¸” Attributes à¹à¸¥à¸° Data Types
   â””â”€â”€ ER Diagram à¹à¸šà¸šà¸¥à¸°à¹€à¸­à¸µà¸¢à¸”

3. ðŸ”§ Physical Level (à¸£à¸°à¸”à¸±à¸šà¸à¸²à¸¢à¸ à¸²à¸ž)
   â”œâ”€â”€ à¹€à¸‰à¸žà¸²à¸° Database Platform
   â”œâ”€â”€ Table Schemas, Indexes
   â””â”€â”€ Performance Optimization
```

### ðŸŽ¯ **à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸šà¸—à¸µà¹ˆà¸”à¸µ**

**4 à¸«à¸¥à¸±à¸à¸à¸²à¸£à¸ªà¸³à¸„à¸±à¸:**
1. **ðŸ“ Accuracy:** à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹à¸¥à¸°à¸„à¸£à¸šà¸–à¹‰à¸§à¸™
2. **ðŸ”„ Consistency:** à¹„à¸¡à¹ˆà¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‚à¸±à¸”à¹à¸¢à¹‰à¸‡à¸à¸±à¸™
3. **âš¡ Performance:** à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸£à¸§à¸”à¹€à¸£à¹‡à¸§
4. **ðŸ“ˆ Scalability:** à¸£à¸­à¸‡à¸£à¸±à¸šà¸à¸²à¸£à¸‚à¸¢à¸²à¸¢à¸•à¸±à¸§à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•

### ðŸ’¡ **Agent Wallboard System à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸°à¹„à¸£à¸šà¹‰à¸²à¸‡?**

**à¸„à¸´à¸”à¸ªà¸´! à¸£à¸°à¸šà¸š Call Center à¸•à¹‰à¸­à¸‡à¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸°à¹„à¸£à¸šà¹‰à¸²à¸‡?**
- ðŸ‘¤ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Agents
- ðŸ“ž à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Calls
- ðŸ“Š à¸ªà¸–à¸´à¸•à¸´ Performance
- ðŸ¢ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸‡à¸„à¹Œà¸à¸£ (Teams, Departments)
- â° à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Shifts à¹à¸¥à¸° Schedules

---

## Slide 5: Agent Wallboard System - Data Requirements Analysis

### ðŸ” **Business Requirements â†’ Data Requirements**

### ðŸ“‹ **Functional Requirements Review:**
1. **Real-time Agent Status Display**
2. **Call Statistics Tracking**
3. **Performance Metrics Calculation**
4. **Team Management**
5. **Historical Reporting**
6. **Alert and Notification System**

### ðŸ“Š **Data Requirements Analysis**

#### 1ï¸âƒ£ **Agent Status Tracking**
```
ðŸ’­ Business Need: à¹à¸ªà¸”à¸‡à¸ªà¸–à¸²à¸™à¸° Agent à¹à¸šà¸š Real-time
ðŸ“Š Data Requirements:
   â”œâ”€â”€ Agent Identity (ID, Name, Position)
   â”œâ”€â”€ Current Status (Available, Busy, Break, Offline)
   â”œâ”€â”€ Status Timestamp (à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™, à¸ªà¸´à¹‰à¸™à¸ªà¸¸à¸”)
   â””â”€â”€ Team/Department Assignment
```

#### 2ï¸âƒ£ **Call Management**
```
ðŸ’­ Business Need: à¸•à¸´à¸”à¸•à¸²à¸¡ Calls à¹à¸¥à¸°à¸„à¸³à¸™à¸§à¸“ Metrics
ðŸ“Š Data Requirements:
   â”œâ”€â”€ Call Details (ID, Phone Number, Type)
   â”œâ”€â”€ Agent Assignment (Who handled?)
   â”œâ”€â”€ Time Tracking (Start, End, Hold, Transfer)
   â”œâ”€â”€ Call Outcome (Completed, Abandoned, Transferred)
   â””â”€â”€ Quality Scores (Customer Satisfaction)
```

#### 3ï¸âƒ£ **Performance Analytics**
```
ðŸ’­ Business Need: KPI Calculation à¹à¸¥à¸° Reporting
ðŸ“Š Data Requirements:
   â”œâ”€â”€ Daily/Weekly/Monthly Aggregates
   â”œâ”€â”€ Individual Performance Metrics
   â”œâ”€â”€ Team Performance Comparisons
   â””â”€â”€ Historical Trends
```

#### 4ï¸âƒ£ **Organizational Structure**
```
ðŸ’­ Business Need: Team Management à¹à¸¥à¸° Hierarchy
ðŸ“Š Data Requirements:
   â”œâ”€â”€ Department Structure
   â”œâ”€â”€ Team Assignments
   â”œâ”€â”€ Supervisor Relationships
   â””â”€â”€ Role-based Permissions
```

---

## Slide 6: Identifying Entities & Attributes

### ðŸ—ï¸ **Entity Identification Process**

### **Step 1: Noun Identification**
à¸ˆà¸²à¸à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸‚à¸­à¸‡à¸£à¸°à¸šà¸š à¸£à¸°à¸šà¸¸à¸„à¸³à¸™à¸²à¸¡ (Nouns) à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™ Entity à¹„à¸”à¹‰

**ðŸ“ Key Nouns à¹ƒà¸™ Agent Wallboard System:**
- **Agent** (à¸žà¸™à¸±à¸à¸‡à¸²à¸™ Call Center)
- **Call** (à¸à¸²à¸£à¹‚à¸—à¸£à¹€à¸‚à¹‰à¸²-à¸­à¸­à¸)
- **Team** (à¸—à¸µà¸¡à¸‡à¸²à¸™)
- **Department** (à¹à¸œà¸™à¸)
- **Shift** (à¸à¸°à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™)
- **Performance Metric** (à¸•à¸±à¸§à¸Šà¸µà¹‰à¸§à¸±à¸”à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸ž)
- **Alert** (à¸à¸²à¸£à¹à¸ˆà¹‰à¸‡à¹€à¸•à¸·à¸­à¸™)

### **Step 2: Entity Refinement**

#### ðŸŽ­ **Core Entities à¸‚à¸­à¸‡ Agent Wallboard System**

```
1ï¸âƒ£ AGENT ðŸ‘¤
   â”œâ”€â”€ agent_id (Primary Key)
   â”œâ”€â”€ employee_code (Unique)
   â”œâ”€â”€ first_name, last_name
   â”œâ”€â”€ email, phone
   â”œâ”€â”€ hire_date, position
   â”œâ”€â”€ team_id (Foreign Key)
   â””â”€â”€ is_active (Boolean)

2ï¸âƒ£ TEAM ðŸ‘¥
   â”œâ”€â”€ team_id (Primary Key)
   â”œâ”€â”€ team_name
   â”œâ”€â”€ team_leader_id (Foreign Key â†’ AGENT)
   â”œâ”€â”€ department_id (Foreign Key)
   â””â”€â”€ created_date

3ï¸âƒ£ DEPARTMENT ðŸ¢
   â”œâ”€â”€ department_id (Primary Key)
   â”œâ”€â”€ department_name
   â”œâ”€â”€ manager_id (Foreign Key â†’ AGENT)
   â””â”€â”€ budget_allocation

4ï¸âƒ£ CALL ðŸ“ž
   â”œâ”€â”€ call_id (Primary Key)
   â”œâ”€â”€ call_start_time
   â”œâ”€â”€ call_end_time
   â”œâ”€â”€ agent_id (Foreign Key)
   â”œâ”€â”€ customer_phone
   â”œâ”€â”€ call_type (Inbound/Outbound)
   â”œâ”€â”€ call_duration (Calculated)
   â”œâ”€â”€ hold_time
   â””â”€â”€ call_outcome

5ï¸âƒ£ AGENT_STATUS ðŸ“Š
   â”œâ”€â”€ status_id (Primary Key)
   â”œâ”€â”€ agent_id (Foreign Key)
   â”œâ”€â”€ status_type (Available/Busy/Break/Offline)
   â”œâ”€â”€ start_time
   â”œâ”€â”€ end_time
   â””â”€â”€ duration (Calculated)

6ï¸âƒ£ SHIFT_SCHEDULE â°
   â”œâ”€â”€ schedule_id (Primary Key)
   â”œâ”€â”€ agent_id (Foreign Key)
   â”œâ”€â”€ shift_date
   â”œâ”€â”€ start_time, end_time
   â”œâ”€â”€ break_start, break_end
   â””â”€â”€ is_overtime (Boolean)
```

### **Step 3: Attribute Classification**

#### ðŸ·ï¸ **Types of Attributes**

```
ðŸ“Š Simple Attributes: à¹€à¸à¹‡à¸šà¸„à¹ˆà¸²à¹€à¸”à¸µà¹ˆà¸¢à¸§
   â””â”€â”€ first_name, email, call_duration

ðŸŽ¯ Composite Attributes: à¸›à¸£à¸°à¸à¸­à¸šà¸”à¹‰à¸§à¸¢à¸«à¸¥à¸²à¸¢à¸ªà¹ˆà¸§à¸™
   â””â”€â”€ full_name = first_name + last_name
   â””â”€â”€ address = street + city + postal_code

ðŸ’¿ Derived Attributes: à¸„à¸³à¸™à¸§à¸“à¹„à¸”à¹‰à¸ˆà¸²à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸·à¹ˆà¸™
   â””â”€â”€ age â† birth_date
   â””â”€â”€ call_duration â† end_time - start_time
   â””â”€â”€ total_calls_today â† COUNT(calls WHERE date = today)

ðŸ”‘ Key Attributes: à¸£à¸°à¸šà¸¸ Entity à¹„à¸”à¹‰à¹€à¸‰à¸žà¸²à¸°à¹€à¸ˆà¸²à¸°à¸ˆà¸‡
   â””â”€â”€ agent_id, call_id, team_id
```

---

## Slide 7: Entity Relationship Modeling

### ðŸ”— **Types of Relationships**

### **1ï¸âƒ£ One-to-One (1:1)**
**à¸«à¸™à¸¶à¹ˆà¸‡à¸•à¹ˆà¸­à¸«à¸™à¸¶à¹ˆà¸‡** - à¹à¸•à¹ˆà¸¥à¸° entity à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¸à¸±à¸š entity à¸­à¸·à¹ˆà¸™à¹€à¸žà¸µà¸¢à¸‡à¸•à¸±à¸§à¹€à¸”à¸µà¸¢à¸§

```
ðŸ‘¤ AGENT â†â†’ ðŸ†” LOGIN_CREDENTIAL
   à¸«à¸™à¸¶à¹ˆà¸‡ Agent à¸¡à¸µà¸«à¸™à¸¶à¹ˆà¸‡ Login Account
   à¸«à¸™à¸¶à¹ˆà¸‡ Login Account à¹ƒà¸Šà¹‰à¹‚à¸”à¸¢à¸«à¸™à¸¶à¹ˆà¸‡ Agent
```

### **2ï¸âƒ£ One-to-Many (1:M)**
**à¸«à¸™à¸¶à¹ˆà¸‡à¸•à¹ˆà¸­à¸«à¸¥à¸²à¸¢** - entity à¸«à¸™à¸¶à¹ˆà¸‡à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¸à¸±à¸šà¸«à¸¥à¸²à¸¢ entities

```
ðŸ‘¥ TEAM â†â†’ ðŸ‘¤ AGENT
   à¸«à¸™à¸¶à¹ˆà¸‡ Team à¸¡à¸µà¸«à¸¥à¸²à¸¢ Agents
   à¸«à¸™à¸¶à¹ˆà¸‡ Agent à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸«à¸™à¸¶à¹ˆà¸‡ Team

ðŸ¢ DEPARTMENT â†â†’ ðŸ‘¥ TEAM  
   à¸«à¸™à¸¶à¹ˆà¸‡ Department à¸¡à¸µà¸«à¸¥à¸²à¸¢ Teams
   à¸«à¸™à¸¶à¹ˆà¸‡ Team à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸«à¸™à¸¶à¹ˆà¸‡ Department

ðŸ‘¤ AGENT â†â†’ ðŸ“ž CALL
   à¸«à¸™à¸¶à¹ˆà¸‡ Agent handle à¸«à¸¥à¸²à¸¢ Calls
   à¸«à¸™à¸¶à¹ˆà¸‡ Call à¸–à¸¹à¸ handle à¹‚à¸”à¸¢à¸«à¸™à¸¶à¹ˆà¸‡ Agent
```

### **3ï¸âƒ£ Many-to-Many (M:N)**
**à¸«à¸¥à¸²à¸¢à¸•à¹ˆà¸­à¸«à¸¥à¸²à¸¢** - entities à¸ªà¸²à¸¡à¸²à¸£à¸–à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¸«à¸¥à¸²à¸¢à¹à¸šà¸š

```
ðŸ‘¤ AGENT â†â†’ ðŸ› ï¸ SKILL
   à¸«à¸™à¸¶à¹ˆà¸‡ Agent à¸¡à¸µà¸«à¸¥à¸²à¸¢ Skills
   à¸«à¸™à¸¶à¹ˆà¸‡ Skill à¸–à¸¹à¸à¸¡à¸µà¹‚à¸”à¸¢à¸«à¸¥à¸²à¸¢ Agents
   
   â†’ à¸•à¹‰à¸­à¸‡à¸ªà¸£à¹‰à¸²à¸‡ AGENT_SKILL table (Junction Table)

â° SHIFT â†â†’ ðŸ‘¤ AGENT (à¸–à¹‰à¸²à¹ƒà¸Šà¹‰ Flexible Shift System)
   à¸«à¸™à¸¶à¹ˆà¸‡ Shift à¸ªà¸²à¸¡à¸²à¸£à¸–à¸¡à¸µà¸«à¸¥à¸²à¸¢ Agents
   à¸«à¸™à¸¶à¹ˆà¸‡ Agent à¸ªà¸²à¸¡à¸²à¸£à¸–à¸—à¸³à¸«à¸¥à¸²à¸¢ Shifts
```

### **4ï¸âƒ£ Cardinality & Participation**

```
ðŸ“Š Cardinality: à¸ˆà¸³à¸™à¸§à¸™à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ
   â”œâ”€â”€ Minimum: à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢à¹€à¸—à¹ˆà¸²à¹„à¸«à¸£à¹ˆ
   â””â”€â”€ Maximum: à¸¡à¸²à¸à¸ªà¸¸à¸”à¹€à¸—à¹ˆà¸²à¹„à¸«à¸£à¹ˆ

ðŸŽ¯ Participation:
   â”œâ”€â”€ Total (Mandatory): à¸•à¹‰à¸­à¸‡à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œ
   â””â”€â”€ Partial (Optional): à¸­à¸²à¸ˆà¸¡à¸µà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆà¸¡à¸µà¸à¹‡à¹„à¸”à¹‰

à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡:
AGENT â†â†’ CALL
â”œâ”€â”€ Agent à¸­à¸²à¸ˆà¹„à¸¡à¹ˆà¸¡à¸µ Call (à¹€à¸žà¸´à¹ˆà¸‡à¹€à¸‚à¹‰à¸²à¸—à¸³à¸‡à¸²à¸™)  [Partial]
â””â”€â”€ Call à¸•à¹‰à¸­à¸‡à¸¡à¸µ Agent handle à¹€à¸ªà¸¡à¸­        [Total]
```

---

## Slide 8: ER Diagram for Agent Wallboard System

### ðŸ“ **Complete ER Diagram**

```
                    AGENT WALLBOARD SYSTEM
                         ER DIAGRAM

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   DEPARTMENT    â”‚    1    â”‚      TEAM       â”‚    1    â”‚      AGENT      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†â”€â”€â”€â”€  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†â”€â”€â”€â”€  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ department_id*  â”‚    â”‚    â”‚ team_id*        â”‚    â”‚    â”‚ agent_id*       â”‚
    â”‚ department_name â”‚    â”‚    â”‚ team_name       â”‚    â”‚    â”‚ employee_code   â”‚
    â”‚ manager_id      â”‚    â”‚    â”‚ team_leader_id  â”‚    â”‚    â”‚ first_name      â”‚
    â”‚ budget          â”‚    â”‚    â”‚ department_id#  â”‚    â”‚    â”‚ last_name       â”‚
    â”‚ created_date    â”‚    â”‚    â”‚ created_date    â”‚    â”‚    â”‚ email           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    M    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    M    â”‚ phone           â”‚
                                                           â”‚ hire_date       â”‚
                                                           â”‚ position        â”‚
                                                           â”‚ team_id#        â”‚
                                                           â”‚ is_active       â”‚
                                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                    â”‚
                                                                    â”‚ 1
                                                                    â”‚
                                                                    M
                                                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                           â”‚      CALL       â”‚
                                                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                                           â”‚ call_id*        â”‚
                                                           â”‚ agent_id#       â”‚
                                                           â”‚ customer_phone  â”‚
                                                           â”‚ call_start_time â”‚
                                                           â”‚ call_end_time   â”‚
                                                           â”‚ call_type       â”‚
                                                           â”‚ hold_time       â”‚
                                                           â”‚ transfer_count  â”‚
                                                           â”‚ call_outcome    â”‚
                                                           â”‚ satisfaction    â”‚
                                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  AGENT_STATUS   â”‚    M    â”‚      AGENT      â”‚    M    â”‚ SHIFT_SCHEDULE  â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”€â”€â”€â”€â†’  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â†â”€â”€â”€â”€  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ status_id*      â”‚    1    â”‚                 â”‚    1    â”‚ schedule_id*    â”‚
        â”‚ agent_id#       â”‚         â”‚    (à¸ˆà¸²à¸à¸‚à¹‰à¸²à¸‡à¸šà¸™)    â”‚         â”‚ agent_id#       â”‚
        â”‚ status_type     â”‚         â”‚                 â”‚         â”‚ shift_date      â”‚
        â”‚ start_time      â”‚         â”‚                 â”‚         â”‚ start_time      â”‚
        â”‚ end_time        â”‚         â”‚                 â”‚         â”‚ end_time        â”‚
        â”‚ duration        â”‚         â”‚                 â”‚         â”‚ break_start     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ break_end       â”‚
                                                                â”‚ is_overtime     â”‚
                                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   SKILL         â”‚                           â”‚   AGENT_SKILL   â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ skill_id*       â”‚    1                   M  â”‚ agent_id#*      â”‚
        â”‚ skill_name      â”‚  â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ skill_id#*      â”‚
        â”‚ skill_category  â”‚                           â”‚ proficiency     â”‚
        â”‚ description     â”‚                           â”‚ certified_date  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 M                               M
                                 â”‚                               â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           AGENT (M:N)

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ALERT         â”‚    M    â”‚      AGENT      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”€â”€â”€â”€â†’  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ alert_id*       â”‚    1    â”‚  (à¸ˆà¸²à¸à¸‚à¹‰à¸²à¸‡à¸šà¸™)     â”‚
    â”‚ agent_id#       â”‚         â”‚                 â”‚
    â”‚ alert_type      â”‚         â”‚                 â”‚
    â”‚ message         â”‚         â”‚                 â”‚
    â”‚ severity        â”‚         â”‚                 â”‚
    â”‚ created_time    â”‚         â”‚                 â”‚
    â”‚ is_resolved     â”‚         â”‚                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legend: * = Primary Key, # = Foreign Key
```

### ðŸ” **Key Relationships Explanation**

```
1ï¸âƒ£ DEPARTMENT â†’ TEAM â†’ AGENT (Hierarchical)
   ðŸ¢ Organization structure: Department contains Teams, Teams contain Agents

2ï¸âƒ£ AGENT â†’ CALL (1:M)
   ðŸ‘¤ One Agent handles many Calls over time

3ï¸âƒ£ AGENT â†’ AGENT_STATUS (1:M)  
   ðŸ“Š Agent status changes multiple times during workday

4ï¸âƒ£ AGENT â†’ SHIFT_SCHEDULE (1:M)
   â° Agent can have multiple shifts scheduled

5ï¸âƒ£ AGENT â†” SKILL (M:N via AGENT_SKILL)
   ðŸ› ï¸ Many-to-many relationship requiring junction table

6ï¸âƒ£ AGENT â†’ ALERT (1:M)
   ðŸš¨ Agent can have multiple alerts/notifications
```

---

## Slide 9: Normalization Fundamentals

### ðŸŽ¯ **Normalization à¸„à¸·à¸­à¸­à¸°à¹„à¸£?**

> **Normalization** à¸„à¸·à¸­à¸à¸£à¸°à¸šà¸§à¸™à¸à¸²à¸£à¸›à¸£à¸±à¸šà¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸žà¸·à¹ˆà¸­à¸¥à¸” **Data Redundancy** à¹à¸¥à¸°à¸›à¹‰à¸­à¸‡à¸à¸±à¸™ **Data Anomalies**

### âš ï¸ **à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸ˆà¸²à¸ Unnormalized Data**

#### **âŒ à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡: Unnormalized Agent Table**

```sql
AGENT_DATA (à¹„à¸¡à¹ˆà¹„à¸”à¹‰ Normalize)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ agent_id â”‚  name   â”‚ team_name    â”‚ team_leader   â”‚ call_count   â”‚ last_call â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    001   â”‚  à¸ªà¸¡à¸Šà¸²à¸¢  â”‚ Sales Team   â”‚ à¸™à¸²à¸‡à¸ªà¸²à¸§ à¸à¸¡à¸¥    â”‚      15      â”‚ 10:30     â”‚
â”‚    002   â”‚  à¸ªà¸¡à¸«à¸à¸´à¸‡ â”‚ Sales Team   â”‚ à¸™à¸²à¸‡à¸ªà¸²à¸§ à¸à¸¡à¸¥    â”‚       8      â”‚ 10:45     â”‚
â”‚    003   â”‚   à¸ªà¸¡à¹ƒà¸ª  â”‚ Support Team â”‚ à¸™à¸²à¸¢ à¸›à¸£à¸°à¸¢à¸¸à¸—à¸˜   â”‚      22      â”‚ 11:00     â”‚
â”‚    004   â”‚  à¸ªà¸¡à¸¨à¸£à¸µ  â”‚ Sales Team   â”‚ à¸™à¸²à¸‡à¸ªà¸²à¸§ à¸à¸¡à¸¥    â”‚      12      â”‚ 10:20     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ðŸš¨ à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™:**

1. **ðŸ“Š Data Redundancy:** team_name, team_leader à¸‹à¹‰à¸³à¸à¸±à¸™à¸«à¸¥à¸²à¸¢à¸„à¸£à¸±à¹‰à¸‡
2. **ðŸ”„ Update Anomaly:** à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸Šà¸·à¹ˆà¸­ team_leader à¸•à¹‰à¸­à¸‡à¹à¸à¹‰à¸«à¸¥à¸²à¸¢à¹à¸–à¸§
3. **âŒ Delete Anomaly:** à¸¥à¸š agent à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢à¸‚à¸­à¸‡ team â†’ à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ team à¸«à¸²à¸¢à¹„à¸›
4. **âž• Insert Anomaly:** à¹€à¸žà¸´à¹ˆà¸¡ team à¹ƒà¸«à¸¡à¹ˆà¸—à¸µà¹ˆà¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ agent à¹„à¸¡à¹ˆà¹„à¸”à¹‰

### ðŸŽ¯ **3 Normal Forms à¸—à¸µà¹ˆà¸ªà¸³à¸„à¸±à¸**

#### **1ï¸âƒ£ First Normal Form (1NF)**
**à¸à¸Ž:** Atomic Values - à¹à¸•à¹ˆà¸¥à¸° Cell à¹€à¸à¹‡à¸šà¸„à¹ˆà¸²à¹€à¸”à¸µà¹ˆà¸¢à¸§à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™

```sql
âŒ à¹„à¸¡à¹ˆà¹€à¸›à¹‡à¸™ 1NF:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ agent_id â”‚  name   â”‚ skills               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    001   â”‚  à¸ªà¸¡à¸Šà¸²à¸¢  â”‚ English, Sales, CRM  â”‚  â† Multiple values in one cell
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… à¹€à¸›à¹‡à¸™ 1NF:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ agent_id â”‚  name   â”‚  skill   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    001   â”‚  à¸ªà¸¡à¸Šà¸²à¸¢  â”‚ English  â”‚
â”‚    001   â”‚  à¸ªà¸¡à¸Šà¸²à¸¢  â”‚ Sales    â”‚
â”‚    001   â”‚  à¸ªà¸¡à¸Šà¸²à¸¢  â”‚ CRM      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **2ï¸âƒ£ Second Normal Form (2NF)**
**à¸à¸Ž:** 1NF + No Partial Dependency on Primary Key

```sql
âŒ à¹„à¸¡à¹ˆà¹€à¸›à¹‡à¸™ 2NF (à¸¡à¸µ Partial Dependency):
CALL_AGENT (call_id, agent_id à¹€à¸›à¹‡à¸™ Composite Primary Key)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ call_id â”‚ agent_id â”‚ agent_name  â”‚ duration â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   C001  â”‚   A001   â”‚   à¸ªà¸¡à¸Šà¸²à¸¢     â”‚   120    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â†‘ Depends only on agent_id, not full key

âœ… à¹€à¸›à¹‡à¸™ 2NF (à¹à¸¢à¸ Tables):
CALL                    AGENT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ call_id â”‚ agent_id â”‚ duration â”‚  â”‚ agent_id â”‚ agent_name  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   C001  â”‚   A001   â”‚   120    â”‚  â”‚   A001   â”‚   à¸ªà¸¡à¸Šà¸²à¸¢     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **3ï¸âƒ£ Third Normal Form (3NF)**
**à¸à¸Ž:** 2NF + No Transitive Dependency

```sql
âŒ à¹„à¸¡à¹ˆà¹€à¸›à¹‡à¸™ 3NF (à¸¡à¸µ Transitive Dependency):
AGENT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ agent_id â”‚ agent_name  â”‚ department_id â”‚ department_name  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   A001   â”‚   à¸ªà¸¡à¸Šà¸²à¸¢     â”‚      D01      â”‚    Sales Dept    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â†‘ Depends on department_id, not agent_id

âœ… à¹€à¸›à¹‡à¸™ 3NF (à¹à¸¢à¸ Tables):
AGENT                           DEPARTMENT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ agent_id â”‚ agent_name  â”‚ department_id â”‚  â”‚ department_id â”‚ department_name  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   A001   â”‚   à¸ªà¸¡à¸Šà¸²à¸¢     â”‚      D01      â”‚  â”‚      D01      â”‚    Sales Dept    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Slide 10: Normalized Agent Wallboard Schema

### ðŸ—ï¸ **Apply Normalization to Agent Wallboard System**

### **Step 1: Identify Tables (3NF)**

```sql
ðŸ“Š NORMALIZED SCHEMA:

1ï¸âƒ£ DEPARTMENT (3NF âœ…)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ department_id â”‚ department_name  â”‚ manager_id  â”‚ created_date â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     D001      â”‚   Sales Dept     â”‚    A005     â”‚  2024-01-01  â”‚
â”‚     D002      â”‚  Support Dept    â”‚    A010     â”‚  2024-01-01  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2ï¸âƒ£ TEAM (3NF âœ…)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ team_id â”‚  team_name  â”‚ team_leader   â”‚ department_id  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  T001   â”‚ Sales Team Aâ”‚     A003      â”‚      D001      â”‚
â”‚  T002   â”‚ Sales Team Bâ”‚     A007      â”‚      D001      â”‚
â”‚  T003   â”‚Support Team â”‚     A012      â”‚      D002      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3ï¸âƒ£ AGENT (3NF âœ…)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ agent_id â”‚first_name  â”‚  last_name  â”‚    email    â”‚ team_id â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   A001   â”‚   à¸ªà¸¡à¸Šà¸²à¸¢    â”‚    à¹ƒà¸ˆà¸”à¸µ     â”‚som@email.comâ”‚  T001   â”‚
â”‚   A002   â”‚  à¸ªà¸¡à¸«à¸à¸´à¸‡    â”‚   à¸£à¸±à¸à¹€à¸£à¸µà¸¢à¸™   â”‚som2@email.comâ”‚  T001   â”‚
â”‚   A003   â”‚   à¸ªà¸¡à¹ƒà¸ª     â”‚   à¸‚à¸¢à¸±à¸™à¸‚à¸±à¸™    â”‚som3@email.comâ”‚  T002   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4ï¸âƒ£ CALL (3NF âœ…)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ call_id â”‚ agent_id â”‚ call_start_time â”‚ call_end_time   â”‚ call_type  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  C001   â”‚   A001   â”‚ 2024-01-15 09:00â”‚ 2024-01-15 09:05â”‚  Inbound   â”‚
â”‚  C002   â”‚   A001   â”‚ 2024-01-15 09:10â”‚ 2024-01-15 09:15â”‚  Inbound   â”‚
â”‚  C003   â”‚   A002   â”‚ 2024-01-15 09:05â”‚ 2024-01-15 09:12â”‚  Outbound  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5ï¸âƒ£ AGENT_STATUS (3NF âœ…)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ status_id â”‚ agent_id â”‚status_type  â”‚   start_time    â”‚    end_time     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   S001    â”‚   A001   â”‚ Available   â”‚ 2024-01-15 08:00â”‚ 2024-01-15 09:00â”‚
â”‚   S002    â”‚   A001   â”‚ Busy        â”‚ 2024-01-15 09:00â”‚ 2024-01-15 09:05â”‚
â”‚   S003    â”‚   A001   â”‚ Available   â”‚ 2024-01-15 09:05â”‚ 2024-01-15 09:10â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Step 2: Benefits à¸‚à¸­à¸‡ Normalization**

```
âœ… à¸›à¸£à¸°à¹‚à¸¢à¸Šà¸™à¹Œà¸—à¸µà¹ˆà¹„à¸”à¹‰à¸£à¸±à¸š:
â”œâ”€â”€ ðŸ“‰ Data Redundancy à¸¥à¸”à¸¥à¸‡ (à¹„à¸¡à¹ˆà¹€à¸à¹‡à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‹à¹‰à¸³)
â”œâ”€â”€ ðŸ”§ Update Anomaly à¸«à¸²à¸¢à¹„à¸› (à¹à¸à¹‰à¹„à¸‚à¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§)
â”œâ”€â”€ âŒ Delete Anomaly à¸«à¸²à¸¢à¹„à¸› (à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸«à¸²à¸¢à¸•à¸²à¸¡)
â”œâ”€â”€ âž• Insert Anomaly à¸«à¸²à¸¢à¹„à¸› (à¹€à¸žà¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸”à¹‰à¸­à¸´à¸ªà¸£à¸°)
â””â”€â”€ ðŸ“Š Data Integrity à¹€à¸žà¸´à¹ˆà¸¡à¸‚à¸¶à¹‰à¸™ (à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸„à¸‡à¹€à¸”à¸´à¸¡)

âš ï¸ Trade-offs:
â”œâ”€â”€ ðŸ”„ Join Operations à¹€à¸žà¸´à¹ˆà¸¡à¸‚à¸¶à¹‰à¸™ (Query à¸‹à¸±à¸šà¸‹à¹‰à¸­à¸™à¸‚à¸¶à¹‰à¸™)
â”œâ”€â”€ ðŸ’¾ More Tables (à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸žà¸´à¹ˆà¸¡à¸‚à¸¶à¹‰à¸™)
â””â”€â”€ ðŸ” Complex Queries for Reports
```

---

## Slide 11: SQL vs NoSQL Decision Framework

### ðŸ¤” **à¸à¸²à¸£à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆà¹€à¸¥à¸·à¸­à¸ Database Type**

### **ðŸ” Factors à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸žà¸´à¸ˆà¸²à¸£à¸“à¸²**

#### **1ï¸âƒ£ Data Structure & Relationships**
```
ðŸ“Š Agent Wallboard System Analysis:
â”œâ”€â”€ ðŸ”— Strong Relationships: Agent â†’ Team â†’ Department
â”œâ”€â”€ ðŸ“ Structured Data: Employee info, Call records
â”œâ”€â”€ ðŸ§® Complex Queries: Join tables for reports
â”œâ”€â”€ ðŸ“ˆ ACID Requirements: Financial data, Call billing
â””â”€â”€ ðŸŽ¯ Consistency à¹€à¸›à¹‡à¸™à¸ªà¸´à¹ˆà¸‡à¸ªà¸³à¸„à¸±à¸
```

#### **2ï¸âƒ£ Scale & Performance Requirements**
```
âš¡ Performance Characteristics:
â”œâ”€â”€ ðŸ‘¥ Concurrent Users: 200 agents + 50 supervisors
â”œâ”€â”€ ðŸ“ž Transaction Volume: 1000-5000 calls/hour
â”œâ”€â”€ ðŸ”„ Read vs Write: 70% Read, 30% Write
â”œâ”€â”€ ðŸ“Š Real-time Updates: Agent status every second
â””â”€â”€ ðŸ“ˆ Growth: 10-20% per year
```

#### **3ï¸âƒ£ Development & Operations**
```
ðŸ› ï¸ Technical Considerations:
â”œâ”€â”€ ðŸ‘¨â€ðŸ’» Team Expertise: SQL à¸¡à¸µà¸„à¸™à¸£à¸¹à¹‰à¹€à¸¢à¸­à¸°
â”œâ”€â”€ ðŸ”§ Tool Ecosystem: Reporting tools support SQL
â”œâ”€â”€ ðŸ¢ Enterprise Integration: ERP systems use SQL
â””â”€â”€ ðŸ”’ Compliance: Audit trails à¸•à¹‰à¸­à¸‡ ACID
```

### **âš–ï¸ SQL vs NoSQL Comparison**

| Criteria | SQL (PostgreSQL) | NoSQL (MongoDB) |
|----------|------------------|-----------------|
| **ðŸ”— Relationships** | âœ… Strong RDBMS features | âŒ Limited JOIN support |
| **ðŸ“Š ACID** | âœ… Full ACID compliance | âš ï¸ Eventual consistency |
| **ðŸ“ˆ Scalability** | âš ï¸ Vertical scaling mainly | âœ… Horizontal scaling |
| **ðŸ” Query Complexity** | âœ… Complex SQL queries | âŒ Limited aggregation |
| **ðŸ› ï¸ Development** | âœ… Mature ecosystem | âœ… Flexible schema |
| **ðŸ“± Real-time** | âš ï¸ Needs additional tools | âœ… Built-in real-time |
| **ðŸ’¾ Data Volume** | âš ï¸ Good for structured | âœ… Better for big data |

### **ðŸŽ¯ Recommendation for Agent Wallboard**

```
ðŸ† RECOMMENDED: PostgreSQL + Redis

ðŸ“Š Primary Database: PostgreSQL
â”œâ”€â”€ âœ… Perfect for structured agent/call data
â”œâ”€â”€ âœ… Strong consistency for financial data
â”œâ”€â”€ âœ… Complex reporting queries
â”œâ”€â”€ âœ… Enterprise integration
â””â”€â”€ âœ… Team expertise available

âš¡ Cache Layer: Redis
â”œâ”€â”€ âœ… Real-time agent status
â”œâ”€â”€ âœ… Live dashboard updates
â”œâ”€â”€ âœ… Session management
â””â”€â”€ âœ… Performance boost
```

---

## Slide 12: Database Schema Implementation

### ðŸ› ï¸ **PostgreSQL Implementation**

### **Physical Schema Design**

```sql
-- ===================================
-- AGENT WALLBOARD SYSTEM DATABASE
-- ===================================

-- 1. Department Table
CREATE TABLE departments (
    department_id SERIAL PRIMARY KEY,
    department_name VARCHAR(100) NOT NULL UNIQUE,
    manager_id INTEGER,
    budget_allocation DECIMAL(12,2),
    created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CONSTRAINT fk_dept_manager FOREIGN KEY (manager_id) 
        REFERENCES agents(agent_id)
);

-- 2. Team Table  
CREATE TABLE teams (
    team_id SERIAL PRIMARY KEY,
    team_name VARCHAR(100) NOT NULL,
    team_leader_id INTEGER,
    department_id INTEGER NOT NULL,
    target_calls_per_day INTEGER DEFAULT 50,
    created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    CONSTRAINT fk_team_leader FOREIGN KEY (team_leader_id) 
        REFERENCES agents(agent_id),
    CONSTRAINT fk_team_department FOREIGN KEY (department_id) 
        REFERENCES departments(department_id)
);

-- 3. Agent Table
CREATE TABLE agents (
    agent_id SERIAL PRIMARY KEY,
    employee_code VARCHAR(20) NOT NULL UNIQUE,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    phone VARCHAR(20),
    hire_date DATE NOT NULL,
    position VARCHAR(50),
    team_id INTEGER,
    salary DECIMAL(10,2),
    is_active BOOLEAN DEFAULT true,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    CONSTRAINT fk_agent_team FOREIGN KEY (team_id) 
        REFERENCES teams(team_id)
);

-- 4. Call Table
CREATE TABLE calls (
    call_id SERIAL PRIMARY KEY,
    agent_id INTEGER NOT NULL,
    customer_phone VARCHAR(20),
    call_start_time TIMESTAMP NOT NULL,
    call_end_time TIMESTAMP,
    call_type VARCHAR(20) CHECK (call_type IN ('inbound', 'outbound')),
    hold_time_seconds INTEGER DEFAULT 0,
    transfer_count INTEGER DEFAULT 0,
    call_outcome VARCHAR(30) CHECK (call_outcome IN 
        ('completed', 'abandoned', 'transferred', 'no_answer')),
    customer_satisfaction INTEGER CHECK (customer_satisfaction BETWEEN 1 AND 5),
    notes TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    -- Calculated fields
    call_duration_seconds INTEGER GENERATED ALWAYS AS 
        (EXTRACT(EPOCH FROM (call_end_time - call_start_time))::INTEGER) STORED,
    
    CONSTRAINT fk_call_agent FOREIGN KEY (agent_id) 
        REFERENCES agents(agent_id)
);

-- 5. Agent Status Table
CREATE TABLE agent_statuses (
    status_id SERIAL PRIMARY KEY,
    agent_id INTEGER NOT NULL,
    status_type VARCHAR(20) NOT NULL CHECK (status_type IN 
        ('available', 'busy', 'break', 'lunch', 'meeting', 'offline')),
    start_time TIMESTAMP NOT NULL,
    end_time TIMESTAMP,
    duration_seconds INTEGER,
    notes VARCHAR(200),
    
    CONSTRAINT fk_status_agent FOREIGN KEY (agent_id) 
        REFERENCES agents(agent_id)
);

-- 6. Skills Table
CREATE TABLE skills (
    skill_id SERIAL PRIMARY KEY,
    skill_name VARCHAR(50) NOT NULL UNIQUE,
    skill_category VARCHAR(30),
    description TEXT
);

-- 7. Agent Skills Junction Table
CREATE TABLE agent_skills (
    agent_id INTEGER,
    skill_id INTEGER,
    proficiency_level INTEGER CHECK (proficiency_level BETWEEN 1 AND 5),
    certified_date DATE,
    expiry_date DATE,
    
    PRIMARY KEY (agent_id, skill_id),
    CONSTRAINT fk_agent_skill_agent FOREIGN KEY (agent_id) 
        REFERENCES agents(agent_id) ON DELETE CASCADE,
    CONSTRAINT fk_agent_skill_skill FOREIGN KEY (skill_id) 
        REFERENCES skills(skill_id) ON DELETE CASCADE
);

-- 8. Shift Schedule Table
CREATE TABLE shift_schedules (
    schedule_id SERIAL PRIMARY KEY,
    agent_id INTEGER NOT NULL,
    shift_date DATE NOT NULL,
    start_time TIME NOT NULL,
    end_time TIME NOT NULL,
    break_start_time TIME,
    break_end_time TIME,
    is_overtime BOOLEAN DEFAULT false,
    created_by INTEGER,
    
    CONSTRAINT fk_schedule_agent FOREIGN KEY (agent_id) 
        REFERENCES agents(agent_id),
    UNIQUE(agent_id, shift_date) -- One shift per agent per day
);

-- 9. Alerts Table
CREATE TABLE alerts (
    alert_id SERIAL PRIMARY KEY,
    agent_id INTEGER,
    team_id INTEGER,
    alert_type VARCHAR(30) NOT NULL CHECK (alert_type IN 
        ('sla_breach', 'long_break', 'missed_shift', 'low_satisfaction')),
    severity VARCHAR(20) CHECK (severity IN ('low', 'medium', 'high', 'critical')),
    message TEXT NOT NULL,
    created_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    acknowledged_time TIMESTAMP,
    resolved_time TIMESTAMP,
    is_resolved BOOLEAN DEFAULT false,
    
    CONSTRAINT fk_alert_agent FOREIGN KEY (agent_id) 
        REFERENCES agents(agent_id),
    CONSTRAINT fk_alert_team FOREIGN KEY (team_id) 
        REFERENCES teams(team_id)
);
```

### **Performance Optimization**

```sql
-- ===================================
-- INDEXES FOR PERFORMANCE
-- ===================================

-- Agent Status (Real-time queries)
CREATE INDEX idx_agent_status_current ON agent_statuses(agent_id, start_time DESC) 
    WHERE end_time IS NULL;

-- Call Performance Queries  
CREATE INDEX idx_calls_agent_date ON calls(agent_id, call_start_time);
CREATE INDEX idx_calls_outcome_date ON calls(call_outcome, call_start_time);
CREATE INDEX idx_calls_duration ON calls(call_duration_seconds) 
    WHERE call_duration_seconds IS NOT NULL;

-- Team and Department Hierarchy
CREATE INDEX idx_agents_team ON agents(team_id) WHERE is_active = true;
CREATE INDEX idx_teams_department ON teams(department_id);

-- Alert Management
CREATE INDEX idx_alerts_unresolved ON alerts(created_time DESC) 
    WHERE is_resolved = false;
CREATE INDEX idx_alerts_agent_type ON alerts(agent_id, alert_type, created_time);

-- Shift Scheduling
CREATE INDEX idx_schedule_agent_date ON shift_schedules(agent_id, shift_date);
CREATE INDEX idx_schedule_date_range ON shift_schedules(shift_date, start_time, end_time);
```

---

## Slide 13: Advanced Database Features

### ðŸš€ **Advanced PostgreSQL Features for Agent Wallboard**

### **1ï¸âƒ£ Views for Common Queries**

```sql
-- ===================================
-- VIEWS FOR BUSINESS LOGIC
-- ===================================

-- Current Agent Status View
CREATE VIEW current_agent_status AS
SELECT 
    a.agent_id,
    a.first_name || ' ' || a.last_name AS agent_name,
    a.employee_code,
    t.team_name,
    d.department_name,
    ast.status_type AS current_status,
    ast.start_time AS status_since,
    EXTRACT(EPOCH FROM (NOW() - ast.start_time))/60 AS minutes_in_status
FROM agents a
JOIN teams t ON a.team_id = t.team_id
JOIN departments d ON t.department_id = d.department_id
LEFT JOIN agent_statuses ast ON a.agent_id = ast.agent_id 
    AND ast.end_time IS NULL
WHERE a.is_active = true;

-- Daily Performance Summary View
CREATE VIEW daily_agent_performance AS
SELECT 
    DATE(c.call_start_time) AS call_date,
    a.agent_id,
    a.first_name || ' ' || a.last_name AS agent_name,
    t.team_name,
    COUNT(*) AS total_calls,
    COUNT(*) FILTER (WHERE c.call_outcome = 'completed') AS completed_calls,
    ROUND(AVG(c.call_duration_seconds)/60.0, 2) AS avg_call_minutes,
    ROUND(AVG(c.customer_satisfaction), 2) AS avg_satisfaction,
    ROUND(COUNT(*) FILTER (WHERE c.call_outcome = 'completed') * 100.0 / COUNT(*), 2) AS completion_rate
FROM calls c
JOIN agents a ON c.agent_id = a.agent_id
JOIN teams t ON a.team_id = t.team_id
WHERE c.call_start_time >= CURRENT_DATE - INTERVAL '30 days'
GROUP BY DATE(c.call_start_time), a.agent_id, a.first_name, a.last_name, t.team_name
ORDER BY call_date DESC, total_calls DESC;

-- Team Leaderboard View
CREATE VIEW team_leaderboard AS
SELECT 
    t.team_name,
    COUNT(DISTINCT a.agent_id) AS active_agents,
    COUNT(c.call_id) AS total_calls_today,
    ROUND(AVG(c.call_duration_seconds)/60.0, 2) AS avg_call_duration,
    ROUND(AVG(c.customer_satisfaction), 2) AS avg_satisfaction,
    ROUND(COUNT(*) FILTER (WHERE c.call_outcome = 'completed') * 100.0 / COUNT(c.call_id), 2) AS success_rate
FROM teams t
JOIN agents a ON t.team_id = a.team_id AND a.is_active = true
LEFT JOIN calls c ON a.agent_id = c.agent_id 
    AND DATE(c.call_start_time) = CURRENT_DATE
GROUP BY t.team_id, t.team_name
ORDER BY success_rate DESC, total_calls_today DESC;
```

### **2ï¸âƒ£ Stored Procedures for Business Logic**

```sql
-- ===================================
-- STORED PROCEDURES
-- ===================================

-- Update Agent Status with Automatic End Time
CREATE OR REPLACE FUNCTION update_agent_status(
    p_agent_id INTEGER,
    p_new_status VARCHAR(20),
    p_notes VARCHAR(200) DEFAULT NULL
)
RETURNS BOOLEAN AS $
DECLARE
    v_current_status_id INTEGER;
BEGIN
    -- End current status
    UPDATE agent_statuses 
    SET end_time = NOW(),
        duration_seconds = EXTRACT(EPOCH FROM (NOW() - start_time))::INTEGER
    WHERE agent_id = p_agent_id AND end_time IS NULL
    RETURNING status_id INTO v_current_status_id;
    
    -- Insert new status
    INSERT INTO agent_statuses (agent_id, status_type, start_time, notes)
    VALUES (p_agent_id, p_new_status, NOW(), p_notes);
    
    -- Generate alert if needed
    IF p_new_status = 'break' AND 
       (SELECT COUNT(*) FROM agent_statuses 
        WHERE agent_id = p_agent_id 
        AND status_type = 'break' 
        AND start_time::DATE = CURRENT_DATE) > 3 THEN
        
        INSERT INTO alerts (agent_id, alert_type, severity, message)
        VALUES (p_agent_id, 'long_break', 'medium', 
                'Agent has taken more than 3 breaks today');
    END IF;
    
    RETURN TRUE;
EXCEPTION
    WHEN OTHERS THEN
        RETURN FALSE;
END;
$ LANGUAGE plpgsql;

-- Calculate SLA Compliance
CREATE OR REPLACE FUNCTION calculate_team_sla(
    p_team_id INTEGER,
    p_date DATE DEFAULT CURRENT_DATE
)
RETURNS TABLE(
    agent_name TEXT,
    total_calls INTEGER,
    calls_within_sla INTEGER,
    sla_percentage NUMERIC
) AS $
BEGIN
    RETURN QUERY
    SELECT 
        a.first_name || ' ' || a.last_name,
        COUNT(c.call_id)::INTEGER,
        COUNT(c.call_id) FILTER (WHERE c.call_duration_seconds <= 300)::INTEGER, -- 5 min SLA
        ROUND(
            COUNT(*) FILTER (WHERE c.call_duration_seconds <= 300) * 100.0 / 
            NULLIF(COUNT(c.call_id), 0), 
            2
        )
    FROM agents a
    LEFT JOIN calls c ON a.agent_id = c.agent_id 
        AND DATE(c.call_start_time) = p_date
    WHERE a.team_id = p_team_id AND a.is_active = true
    GROUP BY a.agent_id, a.first_name, a.last_name
    ORDER BY COUNT(c.call_id) DESC;
END;
$ LANGUAGE plpgsql;
```

### **3ï¸âƒ£ Triggers for Data Integrity**

```sql
-- ===================================
-- TRIGGERS FOR AUTOMATIC ACTIONS
-- ===================================

-- Auto-update updated_at timestamp
CREATE OR REPLACE FUNCTION update_timestamp()
RETURNS TRIGGER AS $
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$ LANGUAGE plpgsql;

CREATE TRIGGER agent_update_timestamp
    BEFORE UPDATE ON agents
    FOR EACH ROW
    EXECUTE FUNCTION update_timestamp();

-- Validate call end time
CREATE OR REPLACE FUNCTION validate_call_times()
RETURNS TRIGGER AS $
BEGIN
    IF NEW.call_end_time IS NOT NULL AND NEW.call_end_time <= NEW.call_start_time THEN
        RAISE EXCEPTION 'Call end time must be after start time';
    END IF;
    RETURN NEW;
END;
$ LANGUAGE plpgsql;

CREATE TRIGGER check_call_times
    BEFORE INSERT OR UPDATE ON calls
    FOR EACH ROW
    EXECUTE FUNCTION validate_call_times();

-- Generate alerts for SLA breaches
CREATE OR REPLACE FUNCTION check_sla_breach()
RETURNS TRIGGER AS $
BEGIN
    -- Check if call duration exceeds 10 minutes (SLA breach)
    IF NEW.call_end_time IS NOT NULL AND 
       NEW.call_duration_seconds > 600 THEN
        
        INSERT INTO alerts (agent_id, alert_type, severity, message, created_time)
        VALUES (
            NEW.agent_id,
            'sla_breach',
            'high',
            'Call duration exceeded SLA: ' || (NEW.call_duration_seconds/60) || ' minutes',
            NOW()
        );
    END IF;
    
    RETURN NEW;
END;
$ LANGUAGE plpgsql;

CREATE TRIGGER sla_breach_alert
    AFTER INSERT OR UPDATE ON calls
    FOR EACH ROW
    EXECUTE FUNCTION check_sla_breach();
```

---

## Slide 14: Redis Integration for Real-time Features

### âš¡ **Redis as Cache & Real-time Layer**

### **Why Redis for Agent Wallboard?**

```
ðŸŽ¯ Real-time Requirements:
â”œâ”€â”€ ðŸ“Š Agent status updates every 1-2 seconds
â”œâ”€â”€ ðŸ“ˆ Live dashboard metrics refresh
â”œâ”€â”€ ðŸš¨ Instant alerts and notifications
â”œâ”€â”€ ðŸ‘¥ Active user sessions tracking
â””â”€â”€ ðŸ”„ WebSocket connection management
```

### **Redis Data Structures**

```redis
# ===================================
# REDIS SCHEMA DESIGN
# ===================================

# 1. Current Agent Status (Hash)
HSET agent:status:A001 
    status "available"
    since "2024-01-15T09:00:00Z"
    team_id "T001" 
    last_activity "2024-01-15T09:15:30Z"

# 2. Live Call Counters (Hash)
HSET team:stats:T001:today
    total_calls "45"
    completed_calls "38"
    active_calls "3"
    avg_duration "285"
    last_updated "2024-01-15T09:15:30Z"

# 3. Real-time Leaderboard (Sorted Set)
ZADD team:T001:leaderboard:today 
    45 "A001"  # Score = call count, Member = agent_id
    38 "A002" 
    41 "A003"

# 4. Active Sessions (Set)
SADD active:agents "A001" "A002" "A003"
SADD active:supervisors "S001" "S002"

# 5. Alert Queue (List)
LPUSH alerts:urgent '{"agent_id":"A001","type":"sla_breach","time":"2024-01-15T09:15:30Z"}'

# 6. Dashboard Cache (String with JSON)
SET dashboard:team:T001 '{
    "team_name": "Sales Team A",
    "active_agents": 8,
    "total_calls_today": 156,
    "avg_satisfaction": 4.2,
    "current_queue": 3,
    "last_updated": "2024-01-15T09:15:30Z"
}' EX 30  # Expire in 30 seconds
```

### **Redis Operations**

```javascript
// ===================================
// REDIS OPERATIONS (Node.js)
// ===================================

const redis = require('redis');
const client = redis.createClient({
    host: 'localhost',
    port: 6379
});

// Update Agent Status
async function updateAgentStatus(agentId, status, teamId) {
    const statusKey = `agent:status:${agentId}`;
    const timestamp = new Date().toISOString();
    
    await client.hset(statusKey, {
        status: status,
        since: timestamp,
        team_id: teamId,
        last_activity: timestamp
    });
    
    // Add to active agents if available
    if (status === 'available') {
        await client.sadd('active:agents', agentId);
    } else if (status === 'offline') {
        await client.srem('active:agents', agentId);
    }
    
    // Update team stats
    await updateTeamStats(teamId);
    
    // Publish real-time update
    await client.publish('agent_status_update', JSON.stringify({
        agent_id: agentId,
        status: status,
        team_id: teamId,
        timestamp: timestamp
    }));
}

// Get Team Dashboard Data
async function getTeamDashboard(teamId) {
    const cacheKey = `dashboard:team:${teamId}`;
    
    // Try cache first
    const cached = await client.get(cacheKey);
    if (cached) {
        return JSON.parse(cached);
    }
    
    // If not cached, calculate and store
    const dashboard = await calculateTeamDashboard(teamId);
    await client.setex(cacheKey, 30, JSON.stringify(dashboard)); // Cache 30 seconds
    
    return dashboard;
}

// Real-time Leaderboard Update
async function updateLeaderboard(teamId, agentId, callCount) {
    const leaderboardKey = `team:${teamId}:leaderboard:today`;
    
    // Update score
    await client.zadd(leaderboardKey, callCount, agentId);
    
    // Set expiration at end of day
    const tomorrow = new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);
    tomorrow.setHours(0, 0, 0, 0);
    const secondsUntilMidnight = Math.floor((tomorrow - new Date()) / 1000);
    
    await client.expire(leaderboardKey, secondsUntilMidnight);
    
    // Get top 5 for broadcasting
    const topAgents = await client.zrevrange(leaderboardKey, 0, 4, 'WITHSCORES');
    
    // Broadcast update
    await client.publish('leaderboard_update', JSON.stringify({
        team_id: teamId,
        top_agents: topAgents,
        timestamp: new Date().toISOString()
    }));
}
```

---

## Slide 15: Workshop Exercise - Hands-on ER Modeling

### ðŸ› ï¸ **Workshop: Design Your Agent Wallboard Database**

### **Exercise Setup (30 minutes)**

#### **ðŸ“‹ Scenario Extension:**
**Call Center ABC à¸¡à¸µà¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡:**

```
ðŸŽ¯ New Requirements:
1. ðŸ“ž Multiple Call Types: Sales, Support, Billing, VIP
2. ðŸŽ“ Training Management: Courses, Certifications, Progress  
3. ðŸ† Gamification: Points, Badges, Competitions
4.

-------------------


# ENGSE206 à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸—à¸µà¹ˆ 6: à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
## Slides 15-25

---

## Slide 15: Normalization Fundamentals
**Title:** Database Normalization - à¸žà¸·à¹‰à¸™à¸à¸²à¸™

**à¸—à¸³à¹„à¸¡à¸•à¹‰à¸­à¸‡ Normalize?**
ðŸŽ¯ **à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢:** à¸¥à¸”à¸„à¸§à¸²à¸¡à¸‹à¹‰à¸³à¸‹à¹‰à¸­à¸™à¹à¸¥à¸°à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸„à¸¸à¸“à¸ à¸²à¸žà¸‚à¹‰à¸­à¸¡à¸¹à¸¥

**ðŸ“Š à¸›à¸±à¸à¸«à¸²à¸‚à¸­à¸‡à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¹„à¸¡à¹ˆ Normalize:**
- **Data Redundancy** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸‹à¹‰à¸³à¸‹à¹‰à¸­à¸™ à¹€à¸ªà¸µà¸¢à¸žà¸·à¹‰à¸™à¸—à¸µà¹ˆ
- **Update Anomalies** - à¹à¸à¹‰à¹„à¸‚à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸•à¹‰à¸­à¸‡à¹à¸à¹‰à¸«à¸¥à¸²à¸¢à¸—à¸µà¹ˆ
- **Insert Anomalies** - à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸žà¸´à¹ˆà¸¡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸”à¹‰à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸”à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸šà¸²à¸‡à¸ªà¹ˆà¸§à¸™
- **Delete Anomalies** - à¸¥à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¹‰à¸§à¹€à¸ªà¸µà¸¢à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸ªà¸³à¸„à¸±à¸

**ðŸ”§ Normal Forms (à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸à¸²à¸£ Normalize):**

**1NF (First Normal Form):**
âœ… à¹„à¸¡à¹ˆà¸¡à¸µ repeating groups
âœ… à¹à¸•à¹ˆà¸¥à¸° cell à¸¡à¸µà¸„à¹ˆà¸²à¹€à¸”à¸µà¸¢à¸§ (atomic value)
âœ… à¹à¸•à¹ˆà¸¥à¸° column à¸¡à¸µ data type à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™

**2NF (Second Normal Form):**
âœ… à¸•à¹‰à¸­à¸‡à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ 1NF à¸à¹ˆà¸­à¸™
âœ… à¹„à¸¡à¹ˆà¸¡à¸µ partial functional dependency
âœ… Non-key attributes à¸•à¹‰à¸­à¸‡à¸‚à¸¶à¹‰à¸™à¸­à¸¢à¸¹à¹ˆà¸à¸±à¸š primary key à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

**3NF (Third Normal Form):**
âœ… à¸•à¹‰à¸­à¸‡à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ 2NF à¸à¹ˆà¸­à¸™
âœ… à¹„à¸¡à¹ˆà¸¡à¸µ transitive dependency
âœ… Non-key attributes à¹„à¸¡à¹ˆà¸‚à¸¶à¹‰à¸™à¸­à¸¢à¸¹à¹ˆà¸à¸±à¸š non-key attributes à¸­à¸·à¹ˆà¸™

---

## Slide 16: Normalization Example - Before & After
**Title:** à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£ Normalize à¹à¸šà¸š Step-by-Step

**ðŸ“ à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡: à¸£à¸°à¸šà¸šà¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¹€à¸£à¸µà¸¢à¸™**

**Table à¸à¹ˆà¸­à¸™ Normalize (Un-normalized):**
```
StudentCourseInfo
------------------------------------------------------
StudentID | StudentName | CourseID | CourseName | Credits | Professor | ProfEmail
S001     | à¸™à¸²à¸¢à¸”à¸³       | CS101    | Programming | 3       | à¸­.à¸ªà¸¡à¹ƒà¸ˆ    | somjai@uni.ac.th
S001     | à¸™à¸²à¸¢à¸”à¸³       | CS102    | Database    | 3       | à¸­.à¸ªà¸¡à¸«à¸§à¸±à¸‡   | somwang@uni.ac.th
S002     | à¸™à¸²à¸‡à¹à¸”à¸‡      | CS101    | Programming | 3       | à¸­.à¸ªà¸¡à¹ƒà¸ˆ    | somjai@uni.ac.th
```

**âŒ à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¹€à¸ˆà¸­:**
- StudentName à¸‹à¹‰à¸³ à¹€à¸¡à¸·à¹ˆà¸­à¸™à¸±à¸à¸¨à¸¶à¸à¸©à¸²à¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™à¸«à¸¥à¸²à¸¢à¸§à¸´à¸Šà¸²
- CourseName, Credits à¸‹à¹‰à¸³ à¹€à¸¡à¸·à¹ˆà¸­à¸«à¸¥à¸²à¸¢à¸„à¸™à¸¥à¸‡à¸§à¸´à¸Šà¸²à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™
- Professor, ProfEmail à¸‹à¹‰à¸³ à¹€à¸¡à¸·à¹ˆà¸­à¸­à¸²à¸ˆà¸²à¸£à¸¢à¹Œà¸ªà¸­à¸™à¸«à¸¥à¸²à¸¢à¸§à¸´à¸Šà¸²

**âœ… à¸«à¸¥à¸±à¸‡ Normalize (3NF):**

**Students Table:**
```
StudentID | StudentName
S001     | à¸™à¸²à¸¢à¸”à¸³
S002     | à¸™à¸²à¸‡à¹à¸”à¸‡
```

**Professors Table:**
```
ProfID | ProfName | ProfEmail
P001   | à¸­.à¸ªà¸¡à¹ƒà¸ˆ   | somjai@uni.ac.th
P002   | à¸­.à¸ªà¸¡à¸«à¸§à¸±à¸‡  | somwang@uni.ac.th
```

**Courses Table:**
```
CourseID | CourseName  | Credits | ProfID
CS101    | Programming | 3       | P001
CS102    | Database    | 3       | P002
```

**Enrollments Table:**
```
StudentID | CourseID | EnrollDate
S001     | CS101    | 2025-01-15
S001     | CS102    | 2025-01-15
S002     | CS101    | 2025-01-16
```

---

## Slide 17: SQL vs NoSQL Decision Framework
**Title:** à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸«à¸£à¹ˆà¸„à¸§à¸£à¹€à¸¥à¸·à¸­à¸ SQL vs NoSQL?

**ðŸŽ¯ Decision Matrix à¸ªà¸³à¸«à¸£à¸±à¸šà¹€à¸¥à¸·à¸­à¸ Database Type:**

**à¹€à¸¥à¸·à¸­à¸ SQL (Relational) à¹€à¸¡à¸·à¹ˆà¸­:**
âœ… **ACID Compliance à¸ªà¸³à¸„à¸±à¸** - à¸˜à¸¸à¸£à¸à¸£à¸£à¸¡à¸—à¸²à¸‡à¸à¸²à¸£à¹€à¸‡à¸´à¸™, e-commerce
âœ… **à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¡à¸µ Structure à¸Šà¸±à¸”à¹€à¸ˆà¸™** - à¹„à¸¡à¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡à¸šà¹ˆà¸­à¸¢
âœ… **à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ Complex Queries** - Join à¸«à¸¥à¸²à¸¢à¸•à¸²à¸£à¸²à¸‡, aggregation
âœ… **à¸¡à¸µ Existing SQL Skills** à¹ƒà¸™à¸—à¸µà¸¡
âœ… **à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¹ƒà¸«à¸à¹ˆà¸¡à¸²à¸** - < 10M records

**à¹€à¸¥à¸·à¸­à¸ NoSQL à¹€à¸¡à¸·à¹ˆà¸­:**
âœ… **Scale à¸•à¹‰à¸­à¸‡à¹ƒà¸«à¸à¹ˆà¸¡à¸²à¸** - millions/billions of records
âœ… **à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸¡à¸µ Fixed Schema** - JSON documents à¸—à¸µà¹ˆà¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡à¹„à¸”à¹‰
âœ… **à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ High Performance** - read/write speed à¸ªà¸³à¸„à¸±à¸
âœ… **Distributed System** - multiple servers, geographic distribution
âœ… **Rapid Development** - prototype à¹„à¸”à¹‰à¹€à¸£à¹‡à¸§

**ðŸ“Š à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š Performance:**

| Criteria | SQL | NoSQL |
|----------|-----|-------|
| **Consistency** | Strong | Eventually |
| **Schema** | Fixed | Flexible |
| **Scalability** | Vertical | Horizontal |
| **Query Language** | Standard SQL | Various APIs |
| **Learning Curve** | Moderate | Varies |

**ðŸ—ï¸ à¸à¸£à¸“à¸µà¸¨à¸¶à¸à¸©à¸²: TaskMaster Pro à¹ƒà¸Šà¹‰ MongoDB à¹€à¸žà¸£à¸²à¸°:**
- à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ Task à¸¡à¸µ structure à¸—à¸µà¹ˆà¹à¸•à¸à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™à¸•à¸²à¸¡ project type
- à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ store rich metadata (attachments, comments, history)
- Scale to millions of tasks across organizations
- Real-time collaboration features

---

## Slide 18: MongoDB Document Design Best Practices
**Title:** à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸š Document Structure à¹ƒà¸™ MongoDB

**ðŸŽ¯ MongoDB Design Principles:**

**1. Embed vs Reference - à¸•à¸±à¸”à¸ªà¸´à¸™à¹ƒà¸ˆà¸¢à¸±à¸‡à¹„à¸‡?**

**Embed à¹€à¸¡à¸·à¹ˆà¸­:**
âœ… à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¡à¸±à¸à¸–à¸¹à¸à¸­à¹ˆà¸²à¸™à¸žà¸£à¹‰à¸­à¸¡à¸à¸±à¸™
âœ… à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ child à¹„à¸¡à¹ˆà¹€à¸„à¸¢à¸–à¸¹à¸à¹ƒà¸Šà¹‰à¹à¸¢à¸à¸ˆà¸²à¸ parent
âœ… à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¡à¸µà¸‚à¸™à¸²à¸”à¸ˆà¸³à¸à¸±à¸” (< 16MB per document)
âœ… Update frequency à¸•à¹ˆà¸³

**Reference à¹€à¸¡à¸·à¹ˆà¸­:**
âœ… à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¡à¸µà¸‚à¸™à¸²à¸”à¹ƒà¸«à¸à¹ˆ à¸«à¸£à¸·à¸­à¹€à¸•à¸´à¸šà¹‚à¸•à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¸ˆà¸³à¸à¸±à¸”
âœ… à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸–à¸¹à¸à¹à¸Šà¸£à¹Œà¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸«à¸¥à¸²à¸¢ documents
âœ… à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ query à¸‚à¹‰à¸­à¸¡à¸¹à¸¥ child à¹à¸¢à¸à¸•à¹ˆà¸²à¸‡à¸«à¸²à¸
âœ… Update à¸šà¹ˆà¸­à¸¢

**ðŸ“ à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ TaskMaster Pro Document Design:**

**Task Document (Embedded Design):**
```json
{
  "_id": ObjectId("..."),
  "title": "Fix login bug",
  "description": "Users cannot login with special characters",
  "projectId": ObjectId("..."),
  "assignee": {
    "userId": ObjectId("..."),
    "name": "à¸™à¸²à¸¢à¸”à¸³ à¸¡à¸·à¸”à¸”à¸´",
    "email": "dam@company.com"
  },
  "status": "IN_PROGRESS",
  "priority": "HIGH",
  "labels": ["bug", "urgent", "frontend"],
  "dueDate": ISODate("2025-09-15"),
  "comments": [
    {
      "commentId": ObjectId("..."),
      "userId": ObjectId("..."),
      "userName": "à¸™à¸²à¸‡à¹à¸”à¸‡ à¸ªà¸µà¹ƒà¸ª",
      "message": "à¸à¸³à¸¥à¸±à¸‡à¸”à¸¹à¸›à¸±à¸à¸«à¸²à¸­à¸¢à¸¹à¹ˆ",
      "timestamp": ISODate("2025-09-01T10:30:00Z")
    }
  ],
  "attachments": [
    {
      "fileName": "error-screenshot.png",
      "fileUrl": "https://storage.../error.png",
      "uploadDate": ISODate("2025-09-01T09:15:00Z")
    }
  ],
  "timeTracking": {
    "estimatedHours": 8,
    "loggedHours": 3,
    "sessions": [
      {
        "start": ISODate("2025-09-01T09:00:00Z"),
        "end": ISODate("2025-09-01T12:00:00Z"),
        "description": "Initial investigation"
      }
    ]
  },
  "createdAt": ISODate("2025-09-01T08:00:00Z"),
  "updatedAt": ISODate("2025-09-01T12:00:00Z")
}
```

**ðŸ’¡ Design Rationale:**
- **Embed assignee info** - à¸¡à¸±à¸à¹ƒà¸Šà¹‰à¸žà¸£à¹‰à¸­à¸¡à¸à¸±à¸š task info
- **Embed comments** - à¸ˆà¸³à¸™à¸§à¸™à¸ˆà¸³à¸à¸±à¸”, à¸­à¹ˆà¸²à¸™à¸žà¸£à¹‰à¸­à¸¡à¸à¸±à¸š task
- **Reference projectId** - project à¹ƒà¸Šà¹‰à¹ƒà¸™ context à¸­à¸·à¹ˆà¸™à¸”à¹‰à¸§à¸¢
- **Embed labels array** - à¸‡à¹ˆà¸²à¸¢à¸•à¹ˆà¸­à¸à¸²à¸£ search à¹à¸¥à¸° filter

---

## Slide 19: Database Indexing Strategy
**Title:** à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸š Index à¹€à¸žà¸·à¹ˆà¸­ Performance

**ðŸŽ¯ Indexing à¹€à¸›à¹‡à¸™à¸«à¸±à¸§à¹ƒà¸ˆà¸‚à¸­à¸‡ Database Performance**

**ðŸ“Š Impact of Proper Indexing:**
- Query speed: à¸ˆà¸²à¸ seconds â†’ milliseconds
- Resource usage: à¸¥à¸” CPU à¹à¸¥à¸° Memory consumption
- User experience: Real-time response

**ðŸ” Types of Indexes:**

**1. Single Field Index:**
```sql
-- SQL
CREATE INDEX idx_task_status ON tasks(status);

-- MongoDB
db.tasks.createIndex({ "status": 1 })
```
**à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­:** Query à¹à¸„à¹ˆ field à¹€à¸”à¸µà¸¢à¸§, sort by field à¹€à¸”à¸µà¸¢à¸§

**2. Compound Index:**
```sql
-- SQL
CREATE INDEX idx_task_project_status ON tasks(projectId, status, dueDate);

-- MongoDB
db.tasks.createIndex({ "projectId": 1, "status": 1, "dueDate": 1 })
```
**à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­:** Query à¸«à¸¥à¸²à¸¢ fields à¸žà¸£à¹‰à¸­à¸¡à¸à¸±à¸™

**3. Text Index (à¸ªà¸³à¸«à¸£à¸±à¸š Search):**
```mongodb
// MongoDB Full-text search
db.tasks.createIndex({ 
  "title": "text", 
  "description": "text",
  "comments.message": "text" 
})
```

**ðŸŽ¯ Index Design Strategy for TaskMaster:**

**High-Priority Indexes:**
```json
// 1. Task search by project and status (à¸«à¸™à¹‰à¸² Kanban board)
{ "projectId": 1, "status": 1, "createdAt": -1 }

// 2. User's tasks across projects (à¸«à¸™à¹‰à¸² My Tasks)
{ "assignee.userId": 1, "dueDate": 1, "priority": -1 }

// 3. Text search across tasks
{ "title": "text", "description": "text" }

// 4. Project analytics queries
{ "projectId": 1, "status": 1, "createdAt": 1 }
```

**âš ï¸ Index Trade-offs:**
- **à¸­à¸¢à¹ˆà¸²à¸ªà¸£à¹‰à¸²à¸‡ index à¹€à¸¢à¸­à¸°à¹€à¸à¸´à¸™à¹„à¸›** - à¸Šà¹‰à¸²à¸•à¸­à¸™ write operations
- **Monitor index usage** - à¸¥à¸š index à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸–à¸¹à¸à¹ƒà¸Šà¹‰
- **Consider storage cost** - indexes à¹ƒà¸Šà¹‰ disk space

---

## Slide 20: Database Security & Data Protection
**Title:** à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢à¹à¸¥à¸°à¸à¸²à¸£à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

**ðŸ”’ Database Security Fundamentals:**

**1. Access Control:**
```sql
-- SQL: Role-based access control
CREATE ROLE app_readonly;
GRANT SELECT ON tasks TO app_readonly;
GRANT app_readonly TO app_user;

-- MongoDB: Role-based access
db.createRole({
  role: "taskReadOnly",
  privileges: [
    { resource: { db: "taskmaster", collection: "tasks" }, 
      actions: ["find", "listIndexes"] }
  ],
  roles: []
})
```

**2. Data Encryption:**
- **At Rest:** Encrypt database files
- **In Transit:** TLS/SSL connections
- **Application Level:** Sensitive fields (passwords, personal data)

**3. Audit Logging:**
```json
// à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ Audit Log Entry
{
  "timestamp": "2025-09-01T14:30:00Z",
  "user": "api_user",
  "action": "UPDATE",
  "collection": "tasks",
  "documentId": "64f123...",
  "changes": {
    "status": { "from": "TODO", "to": "IN_PROGRESS" }
  },
  "ipAddress": "192.168.1.100"
}
```

**ðŸ›¡ï¸ Data Protection Strategies:**

**Personal Data Handling (PDPA Compliance):**
```json
// à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ User document with privacy considerations
{
  "_id": ObjectId("..."),
  "email": "user@company.com", // à¸•à¹‰à¸­à¸‡ encrypt
  "name": "à¸™à¸²à¸¢à¸ªà¸¡à¸Šà¸²à¸¢ à¹ƒà¸ˆà¸”à¸µ", // pseudonymization option
  "role": "developer",
  "preferences": {
    "notifications": true,
    "timezone": "Asia/Bangkok"
  },
  "dataConsent": {
    "marketing": false,
    "analytics": true,
    "consentDate": ISODate("2025-01-15"),
    "ipAddress": "xxx.xxx.xxx.xxx" // masked
  }
}
```

**Backup & Recovery:**
- **Daily automated backups** - à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¥à¹ˆà¸²à¸ªà¸¸à¸”
- **Point-in-time recovery** - à¸à¸¹à¹‰à¸„à¸·à¸™à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸§à¸¥à¸²à¸—à¸µà¹ˆà¹€à¸‰à¸žà¸²à¸°à¹€à¸ˆà¸²à¸°à¸ˆà¸‡
- **Cross-region replication** - disaster recovery
- **Backup testing** - à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¸à¸¹à¹‰à¸„à¸·à¸™à¹€à¸›à¹‡à¸™à¸›à¸£à¸°à¸ˆà¸³

---

## Slide 21: Workshop Activity - ER Diagram Creation
**Title:** ðŸ› ï¸ Workshop: à¸ªà¸£à¹‰à¸²à¸‡ ER Diagram à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸„à¸£à¸‡à¸‡à¸²à¸™

**ðŸ“‹ Workshop Instructions:**

**à¸§à¸±à¸•à¸–à¸¸à¸›à¸£à¸°à¸ªà¸‡à¸„à¹Œ:** à¸ªà¸£à¹‰à¸²à¸‡ ER Diagram à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸„à¸£à¸‡à¸‡à¸²à¸™à¸‚à¸­à¸‡à¹à¸•à¹ˆà¸¥à¸°à¸—à¸µà¸¡

**â° à¹€à¸§à¸¥à¸²: 25 à¸™à¸²à¸—à¸µ**
- 5 à¸™à¸²à¸—à¸µ: à¸—à¸µà¸¡à¸§à¸²à¸‡à¹à¸œà¸™à¹à¸¥à¸°à¸à¸³à¸«à¸™à¸” entities à¸«à¸¥à¸±à¸
- 15 à¸™à¸²à¸—à¸µ: à¸ªà¸£à¹‰à¸²à¸‡ ER Diagram
- 5 à¸™à¸²à¸—à¸µ: Review à¹à¸¥à¸°à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡

**ðŸŽ¯ à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸à¸²à¸£à¸—à¸³:**

**Step 1: à¸£à¸°à¸šà¸¸ Entities (5 à¸™à¸²à¸—à¸µ)**
à¹ƒà¸«à¹‰à¸—à¸µà¸¡à¸£à¸°à¸šà¸¸ entities à¸«à¸¥à¸±à¸à¸ˆà¸²à¸à¹‚à¸„à¸£à¸‡à¸‡à¸²à¸™ à¹€à¸Šà¹ˆà¸™:
- User, Product, Order (e-commerce)
- Student, Course, Enrollment (à¸£à¸°à¸šà¸šà¸¥à¸‡à¸—à¸°à¹€à¸šà¸µà¸¢à¸™)
- Task, Project, Team Member (project management)

**Step 2: à¸à¸³à¸«à¸™à¸” Attributes (5 à¸™à¸²à¸—à¸µ)**
à¸ªà¸³à¸«à¸£à¸±à¸šà¹à¸•à¹ˆà¸¥à¸° entity à¹ƒà¸«à¹‰à¸à¸³à¸«à¸™à¸”:
- Primary Key (PK)
- Attributes à¸—à¸µà¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™
- Data types à¹‚à¸”à¸¢à¸„à¸£à¹ˆà¸²à¸§

**Step 3: à¸ªà¸£à¹‰à¸²à¸‡ Relationships (10 à¸™à¸²à¸—à¸µ)**
- à¸£à¸°à¸šà¸¸à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ entities
- à¸à¸³à¸«à¸™à¸” cardinality (1:1, 1:N, M:N)
- à¸£à¸°à¸šà¸¸ foreign keys

**ðŸ› ï¸ à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸—à¸µà¹ˆà¹à¸™à¸°à¸™à¸³:**
- **ERD Plus** - à¸Ÿà¸£à¸µ, à¹ƒà¸Šà¹‰à¸‡à¸²à¸™à¸‡à¹ˆà¸²à¸¢
- **Lucidchart** - à¸¡à¸µà¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¹€à¸¢à¸­à¸°
- **MySQL Workbench** - à¸ªà¸³à¸«à¸£à¸±à¸š SQL database
- **à¸à¸£à¸°à¸”à¸²à¸© + à¸›à¸²à¸à¸à¸²** - à¸ªà¸³à¸«à¸£à¸±à¸š brainstorm à¹€à¸£à¹‡à¸§à¹†

**âœ… à¹€à¸à¸“à¸‘à¹Œà¸à¸²à¸£à¸›à¸£à¸°à¹€à¸¡à¸´à¸™:**

**à¸žà¸·à¹‰à¸™à¸à¸²à¸™ (60%):**
- à¸¡à¸µ entities à¸«à¸¥à¸±à¸à¸„à¸£à¸šà¸–à¹‰à¸§à¸™à¸•à¸²à¸¡à¹‚à¸„à¸£à¸‡à¸‡à¸²à¸™
- Attributes à¸¡à¸µ primary key à¸—à¸µà¹ˆà¸Šà¸±à¸”à¹€à¸ˆà¸™
- Relationships à¹à¸¥à¸° cardinality à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡

**à¸à¸¥à¸²à¸‡ (80%):**
- Data types à¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡à¸à¸±à¸šà¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
- Foreign keys à¸£à¸°à¸šà¸¸à¹„à¸”à¹‰à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
- à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¸§à¸²à¸¡à¸‹à¹‰à¸³à¸‹à¹‰à¸­à¸™à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™

**à¸”à¸µ (100%):**
- à¸„à¸³à¸™à¸¶à¸‡à¸–à¸¶à¸‡ normalization (à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 2NF)
- à¸¡à¸µ derived attributes à¸«à¸£à¸·à¸­ calculated fields
- à¹ƒà¸ªà¹ˆ constraints à¸—à¸µà¹ˆà¸ªà¸³à¸„à¸±à¸ (unique, not null)
- à¹€à¸žà¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡ indexes à¸—à¸µà¹ˆà¸„à¸§à¸£à¸¡à¸µ

**ðŸ’¡ Tips for Success:**
- à¹€à¸£à¸´à¹ˆà¸¡à¸ˆà¸²à¸ core functionality à¸à¹ˆà¸­à¸™
- à¹ƒà¸Šà¹‰ naming convention à¸—à¸µà¹ˆà¸ªà¸¡à¹ˆà¸³à¹€à¸ªà¸¡à¸­
- à¸„à¸´à¸”à¸–à¸¶à¸‡ query patterns à¸—à¸µà¹ˆà¸ˆà¸°à¹ƒà¸Šà¹‰à¸šà¹ˆà¸­à¸¢
- à¸­à¸¢à¹ˆà¸²à¸¥à¸·à¸¡ audit fields (created_at, updated_at)

---

## Slide 22: Common Database Design Mistakes
**Title:** âŒ à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¸—à¸µà¹ˆà¸žà¸šà¸šà¹ˆà¸­à¸¢à¹ƒà¸™à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸š Database

**ðŸš« Top 10 Database Design Anti-Patterns:**

**1. à¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰ Primary Key**
```sql
âŒ Wrong:
CREATE TABLE tasks (
  title VARCHAR(100),
  description TEXT,
  status VARCHAR(20)
);

âœ… Correct:
CREATE TABLE tasks (
  id INT PRIMARY KEY AUTO_INCREMENT,
  title VARCHAR(100) NOT NULL,
  description TEXT,
  status VARCHAR(20) DEFAULT 'TODO'
);
```

**2. à¹ƒà¸Šà¹‰ VARCHAR à¹à¸—à¸™ Appropriate Data Types**
```sql
âŒ Wrong:
price VARCHAR(20),  -- "123.45"
created_date VARCHAR(50), -- "2025-09-01 10:30:00"

âœ… Correct:
price DECIMAL(10,2),
created_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
```

**3. à¹„à¸¡à¹ˆà¸—à¸³ Normalization (à¸«à¸£à¸·à¸­ Over-normalization)**
```sql
âŒ Denormalized (à¹€à¸à¹‡à¸š customer info à¸‹à¹‰à¸³à¹ƒà¸™ orders):
orders: id, customer_name, customer_email, product, price

âŒ Over-normalized (à¹à¸¢à¸ address à¹€à¸›à¹‡à¸™ 5 tables):
addresses, provinces, districts, sub_districts, postal_codes

âœ… Balanced:
customers: id, name, email
addresses: id, customer_id, street, city, province, postal_code
orders: id, customer_id, product, price
```

**4. EAV (Entity-Attribute-Value) Pattern Abuse**
```sql
âŒ Wrong: à¹ƒà¸Šà¹‰ EAV à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸¡à¹ˆà¸ˆà¸³à¹€à¸›à¹‡à¸™
attributes_table:
entity_id | attribute_name | attribute_value
1        | name          | "John"
1        | email         | "john@email.com"
1        | age           | "25"

âœ… Better: à¹ƒà¸Šà¹‰ proper columns
users:
id | name | email           | age
1  | John | john@email.com  | 25
```

**5. à¹„à¸¡à¹ˆà¸§à¸²à¸‡à¹à¸œà¸™ Indexing**
```sql
âŒ No indexes on frequently queried columns:
SELECT * FROM orders WHERE customer_id = 123 AND status = 'pending';

âœ… Proper indexing:
CREATE INDEX idx_orders_customer_status ON orders(customer_id, status);
```

**ðŸ“Š Performance Impact Examples:**

**Before Optimization:**
```sql
-- Query without index: 2.3 seconds
SELECT * FROM tasks WHERE project_id = 456 AND status = 'TODO'
ORDER BY created_at DESC LIMIT 20;
```

**After Optimization:**
```sql
-- Same query with proper index: 0.003 seconds
CREATE INDEX idx_tasks_project_status_created 
ON tasks(project_id, status, created_at DESC);
```

**ðŸ”§ How to Avoid These Mistakes:**

**Development Process:**
1. **Database Review Sessions** - à¹ƒà¸«à¹‰ senior developer review
2. **Performance Testing** - à¸—à¸”à¸ªà¸­à¸šà¸”à¹‰à¸§à¸¢à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸ˆà¸£à¸´à¸‡
3. **Query Analysis** - à¹ƒà¸Šà¹‰ EXPLAIN PLAN à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š query performance
4. **Code Review** - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š database schema à¹ƒà¸™ PR

**Tools à¸—à¸µà¹ˆà¸Šà¹ˆà¸§à¸¢à¹„à¸”à¹‰:**
- **Database Documentation** - ER diagrams, data dictionary
- **Monitoring Tools** - slow query logs, performance metrics
- **Schema Migration Tools** - version control à¸ªà¸³à¸«à¸£à¸±à¸š database changes

---

## Slide 23: Database Performance Optimization
**Title:** ðŸš€ à¹€à¸—à¸„à¸™à¸´à¸„à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡ Database Performance

**âš¡ Performance Optimization Strategy:**

**1. Query Optimization**

**Before:**
```sql
-- Slow query (no index, inefficient WHERE clause)
SELECT t.*, u.name as assignee_name, p.name as project_name
FROM tasks t 
LEFT JOIN users u ON t.assignee_id = u.id 
LEFT JOIN projects p ON t.project_id = p.id 
WHERE YEAR(t.created_at) = 2025 AND t.status != 'DONE'
ORDER BY t.due_date;
```

**After:**
```sql
-- Optimized query
SELECT t.*, u.name as assignee_name, p.name as project_name
FROM tasks t 
LEFT JOIN users u ON t.assignee_id = u.id 
LEFT JOIN projects p ON t.project_id = p.id 
WHERE t.created_at >= '2025-01-01' 
  AND t.created_at < '2026-01-01'
  AND t.status IN ('TODO', 'IN_PROGRESS', 'REVIEW')
ORDER BY t.due_date;

-- Index à¸ªà¸³à¸«à¸£à¸±à¸š query à¸™à¸µà¹‰
CREATE INDEX idx_tasks_performance 
ON tasks(created_at, status, due_date);
```

**2. Database-Level Optimizations**

**Connection Pooling:**
```javascript
// Node.js with MongoDB
const mongoose = require('mongoose');

mongoose.connect('mongodb://localhost/taskmaster', {
  maxPoolSize: 10, // à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 10 connections
  minPoolSize: 2,  // à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 2 connections
  maxIdleTimeMS: 30000, // close connection à¸«à¸¥à¸±à¸‡ idle 30 à¸§à¸´à¸™à¸²à¸—à¸µ
  bufferMaxEntries: 0
});
```

**Query Result Caching:**
```javascript
// Redis caching example
const redis = require('redis');
const client = redis.createClient();

async function getTasksByProject(projectId) {
  const cacheKey = `tasks:project:${projectId}`;
  
  // à¸¥à¸­à¸‡à¹€à¸­à¸²à¸ˆà¸²à¸ cache à¸à¹ˆà¸­à¸™
  const cached = await client.get(cacheKey);
  if (cached) {
    return JSON.parse(cached);
  }
  
  // à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¸¡à¸µà¹ƒà¸™ cache à¸„à¹ˆà¸­à¸¢ query database
  const tasks = await Task.find({ projectId }).populate('assignee');
  
  // à¹€à¸à¹‡à¸šà¹ƒà¸™ cache 5 à¸™à¸²à¸—à¸µ
  await client.setEx(cacheKey, 300, JSON.stringify(tasks));
  
  return tasks;
}
```

**ðŸ“Š Monitoring & Metrics:**

**Key Performance Indicators:**
- **Query Response Time** - < 100ms à¸ªà¸³à¸«à¸£à¸±à¸š simple queries
- **Connection Pool Usage** - à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 80%
- **Cache Hit Ratio** - > 90%
- **Database CPU/Memory** - < 70% usage

**Database Profiling:**
```sql
-- MySQL: Enable slow query log
SET GLOBAL slow_query_log = 'ON';
SET GLOBAL long_query_time = 0.5; -- queries > 0.5 seconds

-- Monitor slow queries
SELECT * FROM mysql.slow_log 
WHERE start_time > NOW() - INTERVAL 1 DAY
ORDER BY query_time DESC LIMIT 10;
```

**3. Scaling Strategies**

**Read Replicas:**
- Master-Slave setup à¸ªà¸³à¸«à¸£à¸±à¸š read-heavy workloads
- à¹ƒà¸Šà¹‰ slave à¸ªà¸³à¸«à¸£à¸±à¸š reports à¹à¸¥à¸° analytics
- Keep master à¸ªà¸³à¸«à¸£à¸±à¸š writes à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™

**Horizontal Partitioning (Sharding):**
```javascript
// à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡ sharding strategy
function getShardKey(userId) {
  // à¹à¸šà¹ˆà¸‡ users à¸­à¸­à¸à¹€à¸›à¹‡à¸™ 4 shards
  return userId % 4;
}

function getTaskDatabase(userId) {
  const shard = getShardKey(userId);
  return `taskmaster_shard_${shard}`;
}
```

---

## Slide 24: Integration with Application Layer
**Title:** ðŸ”— à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ Database à¸à¸±à¸š Application

**ðŸ—ï¸ Database Integration Patterns:**

**1. Repository Pattern**
```javascript
// TaskRepository.js - Abstract database operations
class TaskRepository {
  async findByProjectId(projectId, filters = {}) {
    const query = { projectId };
    
    // Apply filters
    if (filters.status) query.status = filters.status;
    if (filters.assigneeId) query['assignee.userId'] = filters.assigneeId;
    if (filters.dueDate) query.dueDate = { $lte: filters.dueDate };
    
    return await Task.find(query)
      .populate('assignee', 'name email')
      .sort({ createdAt: -1 })
      .limit(50);
  }
  
  async updateStatus(taskId, newStatus, userId) {
    const updateData = {
      status: newStatus,
      updatedAt: new Date(),
      'statusHistory': {
        $push: {
          status: newStatus,
          changedBy: userId,
          changedAt: new Date()
        }
      }
    };
    
    return await Task.findByIdAndUpdate(taskId, updateData, { new: true });
  }
}
```

**2. Data Access Layer (DAL)**
```javascript
// TaskService.js - Business logic layer
class TaskService {
  constructor(taskRepository, userService, notificationService) {
    this.taskRepo = taskRepository;
    this.userService = userService;
    this.notificationService = notificationService;
  }
  
  async assignTask(taskId, assigneeId, assignedBy) {
    // Validate permissions
    const canAssign = await this.userService.canAssignTasks(assignedBy);
    if (!canAssign) {
      throw new Error('Insufficient permissions');
    }
    
    // Update task
    const updatedTask = await this.taskRepo.assignUser(taskId, assigneeId);
    
    // Send notification
    await this.notificationService.notifyTaskAssignment(updatedTask);
    
    return updatedTask;
  }
}
```

**ðŸ“Š Database Connection Best Practices:**

**Environment Configuration:**
```javascript
// config/database.js
const databaseConfig = {
  development: {
    uri: process.env.DB_URI_DEV || 'mongodb://localhost/taskmaster_dev',
    options: {
      maxPoolSize: 5,
      retryWrites: true
    }
  },
  production: {
    uri: process.env.DB_URI_PROD,
    options: {
      maxPoolSize: 20,
      readPreference: 'secondaryPreferred', // à¹ƒà¸Šà¹‰ read replica
      retryWrites: true,
      ssl: true
    }
  }
};
```

**Error Handling & Retry Logic:**
```javascript
async function executeWithRetry(operation, maxRetries = 3) {
  for (let i = 0; i < maxRetries; i++) {
    try {
      return await operation();
    } catch (error) {
      console.log(`Database operation failed (attempt ${i + 1}):`, error.message);
      
      if (i === maxRetries - 1) throw error; // Last attempt
      
      // Exponential backoff
      await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000));
    }
  }
}
```

**ðŸ”„ Data Synchronization:**

**Event-Driven Updates:**
```javascript
// When task status changes, update related data
taskSchema.post('findOneAndUpdate', async function(doc) {
  if (doc && this.getUpdate().status) {
    // Update project statistics
    await ProjectStats.updateTaskCounts(doc.projectId);
    
    // Send real-time update to clients
    socketService.broadcastTaskUpdate(doc.projectId, doc);
  }
});
```

**Batch Operations:**
```javascript
// Batch update for performance
async function updateMultipleTasks(updates) {
  const bulkOps = updates.map(update => ({
    updateOne: {
      filter: { _id: update.taskId },
      update: { $set: update.changes },
      upsert: false
    }
  }));
  
  return await Task.bulkWrite(bulkOps, { ordered: false });
}
```

---

## Slide 25: Summary & Next Steps
**Title:** à¸ªà¸£à¸¸à¸› à¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

**ðŸŽ¯ à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¹€à¸£à¸²à¹„à¸”à¹‰à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰à¸§à¸±à¸™à¸™à¸µà¹‰:**

**1. Database Design Fundamentals**
âœ… **ER Modeling** - à¸ªà¸£à¹‰à¸²à¸‡à¹à¸šà¸šà¸ˆà¸³à¸¥à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
âœ… **Normalization** - à¸¥à¸”à¸„à¸§à¸²à¸¡à¸‹à¹‰à¸³à¸‹à¹‰à¸­à¸™ à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡à¸„à¸¸à¸“à¸ à¸²à¸žà¸‚à¹‰à¸­à¸¡à¸¹à¸¥
âœ… **Data Relationships** - à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¹‚à¸¢à¸‡à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡ entities

**2. SQL vs NoSQL Decision Making**
âœ… **à¹€à¸¥à¸·à¸­à¸à¸à¸²à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡** à¸•à¸²à¸¡à¸¥à¸±à¸à¸©à¸“à¸°à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸à¸²à¸£à¹ƒà¸Šà¹‰à¸‡à¸²à¸™
âœ… **MongoDB Document Design** - best practices à¸ªà¸³à¸«à¸£à¸±à¸š NoSQL
âœ… **Trade-offs Analysis** - à¸‚à¹‰à¸­à¸”à¸µ/à¸‚à¹‰à¸­à¹€à¸ªà¸µà¸¢à¸‚à¸­à¸‡à¹à¸•à¹ˆà¸¥à¸°à¹à¸šà¸š

**3. Performance & Security**
âœ… **Indexing Strategy** - à¸§à¸²à¸‡à¹à¸œà¸™ indexes à¹€à¸žà¸·à¹ˆà¸­à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸ž
âœ… **Security Best Practices** - à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹à¸¥à¸°à¸„à¸§à¸šà¸„à¸¸à¸¡à¸à¸²à¸£à¹€à¸‚à¹‰à¸²à¸–à¸¶à¸‡
âœ… **Query Optimization** - à¹€à¸—à¸„à¸™à¸´à¸„à¸à¸²à¸£à¹€à¸‚à¸µà¸¢à¸™ query à¸—à¸µà¹ˆà¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸ž

**4. Integration Patterns**
âœ… **Repository Pattern** - à¹à¸¢à¸ business logic à¸ˆà¸²à¸ data access
âœ… **Connection Management** - à¸ˆà¸±à¸”à¸à¸²à¸£ connection pool à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸ž
âœ… **Error Handling** - à¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸²à¸£à¸‚à¹‰à¸­à¸œà¸´à¸”à¸žà¸¥à¸²à¸”à¹à¸¥à¸° retry logic

**ðŸ“ Workshop Results Review:**
- ER Diagrams à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸¶à¹‰à¸™à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡ entities à¸«à¸¥à¸±à¸à¸‚à¸­à¸‡à¹‚à¸„à¸£à¸‡à¸‡à¸²à¸™
- à¸„à¸§à¸²à¸¡à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¹à¸¥à¸° cardinality à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
- à¸„à¸³à¸™à¸¶à¸‡à¸–à¸¶à¸‡ normalization à¹à¸¥à¸° performance considerations

**ðŸ† Key Takeaways à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸­à¸­à¸à¹à¸šà¸šà¸ˆà¸£à¸´à¸‡:**

**ðŸ’¡ Design Principles:**
1. **Start Simple** - à¹€à¸£à¸´à¹ˆà¸¡à¸ˆà¸²à¸ core entities à¸à¹ˆà¸­à¸™
2. **Think in Queries** - à¸­à¸­à¸à¹à¸šà¸šà¸•à¸²à¸¡ usage patterns
3. **Plan for Scale** - à¸„à¸´à¸”à¸–à¸¶à¸‡à¸à¸²à¸£à¹€à¸•à¸´à¸šà¹‚à¸•à¸‚à¸­à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥
4. **Document Everything** - à¹€à¸à¹‡à¸š ER diagrams à¹à¸¥à¸° data dictionary

**âš ï¸ Common Pitfalls to Avoid:**
- Over-normalization à¸«à¸£à¸·à¸­ under-normalization
- à¹„à¸¡à¹ˆà¸§à¸²à¸‡à¹à¸œà¸™ indexing strategy
- à¸‚à¸²à¸” backup à¹à¸¥à¸° recovery plan
- à¹„à¸¡à¹ˆ monitor database performance

**ðŸ“š Required Reading à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸±à¸›à¸”à¸²à¸«à¹Œà¸«à¸™à¹‰à¸²:**
1. **"UML Modeling Fundamentals"** - Chapter 7-8
2. **"RESTful API Design Principles"** - Online resource
3. **"Software Architecture Patterns"** - Chapter 3: Layered Architecture

**ðŸ“‹ Assignment Due Next Week:**

**Individual Assignment: Database Design Document**
- ER Diagram à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸„à¸£à¸‡à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸—à¹ˆà¸²à¸™ (à¹ƒà¸Šà¹‰à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­ ERD Plus à¸«à¸£à¸·à¸­ Lucidchart)
- Database Schema (tables/collections à¸žà¸£à¹‰à¸­à¸¡ data types)
- Normalization à¸–à¸¶à¸‡à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 3NF (à¸ªà¸³à¸«à¸£à¸±à¸š SQL) à¸«à¸£à¸·à¸­ Document Design Rationale (à¸ªà¸³à¸«à¸£à¸±à¸š NoSQL)
- Index Strategy à¸žà¸£à¹‰à¸­à¸¡à¹€à¸«à¸•à¸¸à¸œà¸¥
- 8-12 à¸«à¸™à¹‰à¸² PDF format

**Submission Details:**
- Upload à¹„à¸Ÿà¸¥à¹Œ PDF à¹„à¸› LMS à¸ à¸²à¸¢à¹ƒà¸™à¸§à¸±à¸™à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ 23:59 à¸™.
- à¸Šà¸·à¹ˆà¸­à¹„à¸Ÿà¸¥à¹Œ: `DatabaseDesign_StudentID_ProjectName.pdf`
- Include source files (.erdplus à¸«à¸£à¸·à¸­ .lucid) à¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œ zip à¹à¸¢à¸à¸•à¹ˆà¸²à¸‡à¸«à¸²à¸

**ðŸ”® Next Week Preview: "Low-Level Design & UML Modeling"**

**à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸ˆà¸°à¹„à¸”à¹‰à¹€à¸£à¸µà¸¢à¸™:**
- **Class Diagram** - à¸­à¸­à¸à¹à¸šà¸šà¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸­à¸‡ components
- **Sequence Diagram** - modeling à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¸‚à¸­à¸‡à¸£à¸°à¸šà¸š
- **API Design** - RESTful API specification
- **Design Principles** - Coupling, Cohesion, Abstraction

**ðŸ› ï¸ Tools to Prepare:**
- **StarUML** à¸«à¸£à¸·à¸­ **Lucidchart** à¸ªà¸³à¸«à¸£à¸±à¸š UML diagrams
- **Postman** à¸ªà¸³à¸«à¸£à¸±à¸š API testing
- **Swagger Editor** à¸ªà¸³à¸«à¸£à¸±à¸š API documentation

**â“ Q&A - à¸„à¸³à¸–à¸²à¸¡à¸—à¸µà¹ˆà¸žà¸šà¸šà¹ˆà¸­à¸¢:**

**Q: MongoDB à¸à¸±à¸š MySQL à¹€à¸¥à¸·à¸­à¸à¸¢à¸±à¸‡à¹„à¸‡à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸„à¸£à¸‡à¸‡à¸²à¸™ startup?**
A: **MySQL** à¸–à¹‰à¸²à¸—à¸µà¸¡à¸„à¸¸à¹‰à¸™à¹€à¸„à¸¢à¸à¸±à¸š SQL, à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¡à¸µ structure à¸Šà¸±à¸”à¹€à¸ˆà¸™. **MongoDB** à¸–à¹‰à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£ rapid prototyping, à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¡à¸µ flexibility à¸ªà¸¹à¸‡, à¸«à¸£à¸·à¸­à¸•à¹‰à¸­à¸‡ scale horizontally

**Q: Normalization à¸—à¸³à¸–à¸¶à¸‡à¹„à¸«à¸™à¸žà¸­?**
A: **3NF à¹€à¸žà¸µà¸¢à¸‡à¸žà¸­à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¹ˆà¸§à¸™à¹ƒà¸«à¸à¹ˆ** - à¸¥à¸”à¸„à¸§à¸²à¸¡à¸‹à¹‰à¸³à¸‹à¹‰à¸­à¸™à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸‹à¸±à¸šà¸‹à¹‰à¸­à¸™à¹€à¸à¸´à¸™à¹„à¸›. BCNF à¸«à¸£à¸·à¸­à¸ªà¸¹à¸‡à¸à¸§à¹ˆà¸²à¸™à¸±à¹‰à¸™à¹ƒà¸Šà¹‰à¹€à¸‰à¸žà¸²à¸°à¸à¸£à¸“à¸µà¸žà¸´à¹€à¸¨à¸©

**Q: Index à¸„à¸§à¸£à¸ªà¸£à¹‰à¸²à¸‡à¸à¸µà¹ˆà¸­à¸±à¸™?**
A: **à¹€à¸£à¸´à¹ˆà¸¡à¸ˆà¸²à¸ high-impact queries** - queries à¸—à¸µà¹ˆà¸£à¸±à¸™à¸šà¹ˆà¸­à¸¢à¹à¸¥à¸°à¹ƒà¸Šà¹‰à¹€à¸§à¸¥à¸²à¸™à¸²à¸™. Monitor usage à¹à¸¥à¹‰à¸§à¸„à¹ˆà¸­à¸¢à¹€à¸žà¸´à¹ˆà¸¡. à¸«à¸¥à¸µà¸à¹€à¸¥à¸µà¹ˆà¸¢à¸‡à¸à¸²à¸£à¸ªà¸£à¹‰à¸²à¸‡ index à¹€à¸¢à¸­à¸°à¹€à¸à¸´à¸™à¹„à¸›à¹€à¸žà¸£à¸²à¸°à¸ˆà¸°à¸Šà¹‰à¸²à¸•à¸­à¸™ write

**Q: à¸à¸²à¸£ backup database à¸—à¸³à¸¢à¸±à¸‡à¹„à¸‡?**
A: **Automated daily backups** + **weekly full backups** + **test recovery process** à¹€à¸›à¹‡à¸™à¸›à¸£à¸°à¸ˆà¸³. à¸ªà¸³à¸«à¸£à¸±à¸š production à¸„à¸§à¸£à¸¡à¸µ **cross-region backup** à¸”à¹‰à¸§à¸¢

**Q: NoSQL à¸ˆà¸° replace SQL à¸«à¸¡à¸”à¸¡à¸±à¹‰à¸¢?**
A: **à¹„à¸¡à¹ˆ** - à¹à¸•à¹ˆà¸¥à¸°à¹à¸šà¸šà¸¡à¸µà¸ˆà¸¸à¸”à¹à¸‚à¹‡à¸‡à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™. **SQL** à¸¢à¸±à¸‡à¸„à¸‡à¸”à¸µà¸ªà¸³à¸«à¸£à¸±à¸š transactional systems, complex reporting. **NoSQL** à¹€à¸«à¸¡à¸²à¸°à¸à¸±à¸š big data, real-time applications, rapid development

**ðŸŽ‰ à¸‚à¸­à¸šà¸„à¸¸à¸“à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸¡à¸µà¸ªà¹ˆà¸§à¸™à¸£à¹ˆà¸§à¸¡à¹ƒà¸™à¸§à¸±à¸™à¸™à¸µà¹‰!**

**Remember:** Database design à¹€à¸›à¹‡à¸™à¸žà¸·à¹‰à¸™à¸à¸²à¸™à¸ªà¸³à¸„à¸±à¸ - à¸­à¸­à¸à¹à¸šà¸šà¸”à¸µà¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸•à¹‰à¸™à¸ˆà¸°à¸Šà¹ˆà¸§à¸¢à¸›à¸£à¸°à¸«à¸¢à¸±à¸”à¹€à¸§à¸¥à¸²à¹à¸¥à¸°à¸›à¸±à¸à¸«à¸²à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•!

**See you next week à¸ªà¸³à¸«à¸£à¸±à¸š UML à¹à¸¥à¸° Low-Level Design! ðŸš€**











