# 6.6.3.1 Frontend Applications - Electron Agent App

## üéØ Overview

‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ **Agent Desktop Application** ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ **Electron.js + React** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö Agent Wallboard System ‡πÇ‡∏î‡∏¢ App ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏°‡∏µ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á Agent

### üéì ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ
‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:
- ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á Electron app ‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ
- ‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏ó‡∏î‡∏™‡∏≠‡∏ö Agent Desktop App
- ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ

---

## üèóÔ∏è **Electron App ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏ä‡∏∏‡∏î Starter Code**

### **üìä ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô: 75% Complete**

```
‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:
‚îú‚îÄ‚îÄ ‚ö° Electron app structure ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏£‡∏π‡∏õ
‚îú‚îÄ‚îÄ üîê Login form ‡∏û‡∏£‡πâ‡∏≠‡∏° validation
‚îú‚îÄ‚îÄ üìä Status change buttons (Available/Busy/Break/Offline)
‚îú‚îÄ‚îÄ üîå WebSocket client connection
‚îú‚îÄ‚îÄ üîî Basic desktop notifications
‚îî‚îÄ‚îÄ üí¨ Message receiving ‡πÅ‡∏•‡∏∞ display

üéØ ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
‚îú‚îÄ‚îÄ üé® ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á UI design ‡πÅ‡∏•‡∏∞ branding
‚îú‚îÄ‚îÄ üîä ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå notification sounds
‚îú‚îÄ‚îÄ ‚öôÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á system tray integration
‚îî‚îÄ‚îÄ üìã ‡πÄ‡∏û‡∏¥‡πà‡∏° message history display
```

---

## üìÅ **Project Structure (Simple & Practical)**

```
agent-desktop/
‚îú‚îÄ‚îÄ üì¶ package.json                # Dependencies: electron, react, socket.io-client
‚îú‚îÄ‚îÄ üîß .env.example                # API_URL, SOCKET_URL, ELECTRON_IS_DEV
‚îú‚îÄ‚îÄ ‚ö° main.js                     # Electron main process - ‡∏™‡∏£‡πâ‡∏≤‡∏á window, system tray
‚îú‚îÄ‚îÄ üîí preload.js                  # Security bridge ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á main ‡πÅ‡∏•‡∏∞ renderer
‚îÇ
‚îú‚îÄ‚îÄ üìù public/
‚îÇ   ‚îú‚îÄ‚îÄ üåê index.html              # HTML template ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö React app
‚îÇ   ‚îî‚îÄ‚îÄ üñºÔ∏è assets/                 # Icons, images ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Electron
‚îÇ       ‚îú‚îÄ‚îÄ icon.png               # App icon
‚îÇ       ‚îî‚îÄ‚îÄ tray-icon.png          # System tray icon
‚îÇ
‚îú‚îÄ‚îÄ ‚öõÔ∏è src/                         # React Application Source
‚îÇ   ‚îú‚îÄ‚îÄ üì± App.js                   # Main React component - login state, WebSocket
‚îÇ   ‚îú‚îÄ‚îÄ üéØ index.js                 # React entry point
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üß© components/              # UI Components (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üîê LoginForm.js         # Agent login interface
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìä StatusPanel.js       # Status change buttons
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üí¨ MessagePanel.js      # Message display
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üë§ AgentInfo.js         # Show logged-in agent info
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üîó services/                # API ‡πÅ‡∏•‡∏∞ WebSocket Services
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üåê api.js               # HTTP API calls (login, etc.)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ‚ö° socket.js            # WebSocket connection
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üîî notifications.js     # Desktop notifications
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üé® styles/                  # CSS Files
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üì± App.css              # Main app styling
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üß© components.css       # Component styles
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ üõ†Ô∏è utils/                   # Helper Functions
‚îÇ       ‚îú‚îÄ‚îÄ üìÖ dateUtils.js         # Date formatting helpers
‚îÇ       ‚îî‚îÄ‚îÄ üõ°Ô∏è validation.js        # Input validation functions
‚îÇ
‚îî‚îÄ‚îÄ üèóÔ∏è build/                       # Built files (auto-generated)
```

---

## ‚ö° **Main Process (main.js) - ‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢**

### **üéØ main.js ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å**
```javascript
// main.js - ‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á Electron app
const { app, BrowserWindow, Tray, Menu } = require('electron');
const path = require('path');
const isDev = process.env.NODE_ENV === 'development';

let mainWindow;
let tray;

// üöÄ ‡∏™‡∏£‡πâ‡∏≤‡∏á main window
function createWindow() {
  mainWindow = new BrowserWindow({
    width: 400,          // ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏û‡∏≠‡∏î‡∏µ
    height: 600,
    icon: path.join(__dirname, 'public/assets/icon.png'),
    webPreferences: {
      nodeIntegration: false,    // Security
      contextIsolation: true,    // Security
      preload: path.join(__dirname, 'preload.js')
    }
  });

  // ‡πÇ‡∏´‡∏•‡∏î React app
  const startUrl = isDev 
    ? 'http://localhost:3000' 
    : `file://${path.join(__dirname, '../build/index.html')}`;
  
  mainWindow.loadURL(startUrl);
}

// üîî ‡∏™‡∏£‡πâ‡∏≤‡∏á system tray
function createTray() {
  tray = new Tray(path.join(__dirname, 'public/assets/tray-icon.png'));
  
  const contextMenu = Menu.buildFromTemplate([
    { label: 'Show App', click: () => mainWindow.show() },
    { label: 'Quit', click: () => app.quit() }
  ]);
  
  tray.setContextMenu(contextMenu);
  tray.setToolTip('Agent Wallboard');
}

// üéØ App events
app.whenReady().then(() => {
  createWindow();
  createTray();
});

app.on('window-all-closed', () => {
  if (process.platform !== 'darwin') app.quit();
});
```

### **üîí preload.js - Security Bridge**
```javascript
// preload.js - ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
const { contextBridge, ipcRenderer } = require('electron');

// ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢ API ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÉ‡∏´‡πâ React ‡πÉ‡∏ä‡πâ
contextBridge.exposeInMainWorld('electronAPI', {
  // ‡∏™‡πà‡∏á notification ‡∏ú‡πà‡∏≤‡∏ô main process
  showNotification: (title, body) => {
    ipcRenderer.invoke('show-notification', { title, body });
  },
  
  // ‡∏õ‡∏¥‡∏î app
  closeApp: () => {
    ipcRenderer.invoke('close-app');
  }
});
```

---

## ‚öõÔ∏è **React App Structure (src/)**

### **üì± App.js - Main Component**
```javascript
// src/App.js - React component ‡∏´‡∏•‡∏±‡∏Å
import React, { useState, useEffect } from 'react';
import LoginForm from './components/LoginForm';
import StatusPanel from './components/StatusPanel';
import MessagePanel from './components/MessagePanel';
import AgentInfo from './components/AgentInfo';
import { connectSocket, disconnectSocket } from './services/socket';
import './styles/App.css';

function App() {
  const [isLoggedIn, setIsLoggedIn] = useState(false);
  const [agent, setAgent] = useState(null);
  const [status, setStatus] = useState('Offline');
  const [messages, setMessages] = useState([]);

  // üîå ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ WebSocket ‡πÄ‡∏°‡∏∑‡πà‡∏≠ login ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
  useEffect(() => {
    if (isLoggedIn && agent) {
      connectSocket(agent.agentCode);
      
      // ‡∏ü‡∏±‡∏á status updates
      window.socket?.on('status_updated', (data) => {
        setStatus(data.status);
      });
      
      // ‡∏ü‡∏±‡∏á messages ‡πÉ‡∏´‡∏°‡πà
      window.socket?.on('new_message', (message) => {
        setMessages(prev => [...prev, message]);
        
        // ‡πÅ‡∏™‡∏î‡∏á notification
        if (window.electronAPI) {
          window.electronAPI.showNotification(
            'New Message', 
            message.content
          );
        }
      });
    }
    
    return () => {
      disconnectSocket();
    };
  }, [isLoggedIn, agent]);

  // üîê Handle login
  const handleLogin = (agentData) => {
    setAgent(agentData);
    setIsLoggedIn(true);
    setStatus('Available');
  };

  // üìä Handle status change
  const handleStatusChange = (newStatus) => {
    setStatus(newStatus);
    // ‡∏™‡πà‡∏á status update ‡∏ú‡πà‡∏≤‡∏ô WebSocket
    window.socket?.emit('update_status', {
      agentCode: agent.agentCode,
      status: newStatus
    });
  };

  return (
    <div className="app">
      {!isLoggedIn ? (
        <LoginForm onLogin={handleLogin} />
      ) : (
        <div className="dashboard">
          <AgentInfo agent={agent} status={status} />
          <StatusPanel 
            currentStatus={status} 
            onStatusChange={handleStatusChange} 
          />
          <MessagePanel messages={messages} />
        </div>
      )}
    </div>
  );
}

export default App;
```

---

## üß© **Key Components ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢**

### **üîê LoginForm.js**
```javascript
// src/components/LoginForm.js
import React, { useState } from 'react';
import { loginAgent } from '../services/api';

function LoginForm({ onLogin }) {
  const [agentCode, setAgentCode] = useState('');
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);
    setError('');

    try {
      const agentData = await loginAgent(agentCode);
      onLogin(agentData);
    } catch (err) {
      setError('Invalid agent code');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="login-form">
      <h2>Agent Login</h2>
      <form onSubmit={handleSubmit}>
        <input
          type="text"
          placeholder="Agent Code (e.g., AG001)"
          value={agentCode}
          onChange={(e) => setAgentCode(e.target.value)}
          required
        />
        <button type="submit" disabled={loading}>
          {loading ? 'Logging in...' : 'Sign In'}
        </button>
        {error && <div className="error">{error}</div>}
      </form>
    </div>
  );
}

export default LoginForm;
```

### **üìä StatusPanel.js**
```javascript
// src/components/StatusPanel.js
import React from 'react';

function StatusPanel({ currentStatus, onStatusChange }) {
  const statuses = [
    { key: 'Available', label: 'Available', color: '#4CAF50' },
    { key: 'Busy', label: 'Busy', color: '#FF9800' },
    { key: 'Break', label: 'Break', color: '#2196F3' },
    { key: 'Offline', label: 'Offline', color: '#9E9E9E' }
  ];

  return (
    <div className="status-panel">
      <h3>Current Status: <span className={`status ${currentStatus.toLowerCase()}`}>
        {currentStatus}
      </span></h3>
      
      <div className="status-buttons">
        {statuses.map(status => (
          <button
            key={status.key}
            className={`status-btn ${status.key === currentStatus ? 'active' : ''}`}
            onClick={() => onStatusChange(status.key)}
            style={{ backgroundColor: status.color }}
          >
            {status.label}
          </button>
        ))}
      </div>
    </div>
  );
}

export default StatusPanel;
```

---

## üîó **Services - API ‡πÅ‡∏•‡∏∞ WebSocket**

### **üåê api.js - HTTP API Calls**
```javascript
// src/services/api.js
const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';

export const loginAgent = async (agentCode) => {
  const response = await fetch(`${API_BASE_URL}/auth/login`, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ agentCode })
  });

  if (!response.ok) {
    throw new Error('Login failed');
  }

  return response.json();
};

export const getAgentInfo = async (agentCode) => {
  const response = await fetch(`${API_BASE_URL}/agents/${agentCode}`);
  return response.json();
};
```

### **‚ö° socket.js - WebSocket Connection**
```javascript
// src/services/socket.js
import io from 'socket.io-client';

const SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:3001';
let socket = null;

export const connectSocket = (agentCode) => {
  socket = io(SOCKET_URL, {
    query: { agentCode, type: 'agent' }
  });

  socket.on('connect', () => {
    console.log('Connected to server');
  });

  socket.on('disconnect', () => {
    console.log('Disconnected from server');
  });

  // ‡πÄ‡∏Å‡πá‡∏ö socket ‡πÑ‡∏ß‡πâ‡πÉ‡∏ô global scope ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏ä‡πâ‡πÉ‡∏ô components
  window.socket = socket;
  
  return socket;
};

export const disconnectSocket = () => {
  if (socket) {
    socket.disconnect();
    socket = null;
    window.socket = null;
  }
};
```

---

## üé® **Styling - ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ**

### **üì± App.css - Main Styles**
```css
/* src/styles/App.css */
.app {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  max-width: 400px;
  margin: 0 auto;
  padding: 20px;
  background: #f5f5f5;
  min-height: 100vh;
}

.login-form {
  background: white;
  padding: 30px;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.login-form h2 {
  text-align: center;
  margin-bottom: 20px;
  color: #333;
}

.login-form input {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
}

.login-form button {
  width: 100%;
  padding: 12px;
  background: #007bff;
  color: white;
  border: none;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
}

.login-form button:hover {
  background: #0056b3;
}

.login-form button:disabled {
  background: #ccc;
  cursor: not-allowed;
}

.error {
  color: #dc3545;
  text-align: center;
  margin-top: 10px;
}

.dashboard {
  background: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.status-panel {
  margin-bottom: 20px;
}

.status-buttons {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 15px;
}

.status-btn {
  padding: 12px;
  border: none;
  border-radius: 4px;
  color: white;
  font-weight: bold;
  cursor: pointer;
  transition: opacity 0.2s;
}

.status-btn:hover {
  opacity: 0.8;
}

.status-btn.active {
  box-shadow: 0 0 0 3px rgba(0,0,0,0.2);
}

.status {
  font-weight: bold;
  padding: 4px 8px;
  border-radius: 4px;
  color: white;
}

.status.available { background: #4CAF50; }
.status.busy { background: #FF9800; }
.status.break { background: #2196F3; }
.status.offline { background: #9E9E9E; }
```

---

## üöÄ **Package.json ‡πÅ‡∏•‡∏∞ Scripts**

### **üì¶ package.json Example**
```json
{
  "name": "agent-desktop",
  "version": "1.0.0",
  "description": "Agent Wallboard Desktop Application",
  "main": "main.js",
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "electron": "electron .",
    "electron-dev": "concurrently \"npm start\" \"wait-on http://localhost:3000 && electron .\"",
    "dist": "npm run build && electron-builder"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-scripts": "5.0.1",
    "socket.io-client": "^4.7.2",
    "electron": "^25.0.0"
  },
  "devDependencies": {
    "concurrently": "^8.2.0",
    "wait-on": "^7.0.1",
    "electron-builder": "^24.6.3"
  }
}
```

---

## üß™ **Development ‡πÅ‡∏•‡∏∞ Testing**

### **üîß Development Scripts**
```bash
# ‡πÄ‡∏£‡∏¥‡πà‡∏° development
npm run electron-dev

# Build production
npm run build
npm run electron

# Package as executable
npm run dist
```

### **‚úÖ Basic Testing Checklist**
```bash
üìã Agent Desktop Testing:
‚îú‚îÄ‚îÄ ‚úÖ App ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡πá‡∏ô Electron window
‚îú‚îÄ‚îÄ ‚úÖ Login ‡∏î‡πâ‡∏ß‡∏¢ agent code ‡πÑ‡∏î‡πâ (AG001, AG002, etc.)
‚îú‚îÄ‚îÄ ‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• agent ‡∏ó‡∏µ‡πà login
‚îú‚îÄ‚îÄ ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô status ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á 4 ‡πÅ‡∏ö‡∏ö
‚îú‚îÄ‚îÄ ‚úÖ Status ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏ô Supervisor Dashboard ‡πÅ‡∏ö‡∏ö real-time
‚îú‚îÄ‚îÄ ‚úÖ ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å supervisor ‡πÑ‡∏î‡πâ
‚îú‚îÄ‚îÄ ‚úÖ ‡πÅ‡∏™‡∏î‡∏á desktop notification ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà
‚îî‚îÄ‚îÄ ‚úÖ System tray ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
```

---

## üéØ **‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏à‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°**

### **Week 1: ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô**
- ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö app ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
- üé® ‡∏õ‡∏£‡∏±‡∏ö CSS styling ‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô
- üñºÔ∏è ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô icon ‡πÅ‡∏•‡∏∞ branding
- üîä ‡πÄ‡∏û‡∏¥‡πà‡∏° notification sound

### **Week 2: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà**
- üìã Message history ‡πÅ‡∏•‡∏∞ search
- ‚öôÔ∏è Settings panel (notification preferences)
- üìä ‡πÅ‡∏™‡∏î‡∏á team members ‡πÅ‡∏•‡∏∞ status
- üéØ Quick status presets

---
### Asset Files ‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢
```
public/assets/
‚îú‚îÄ‚îÄ icon.png          # App icon (256x256)
‚îú‚îÄ‚îÄ tray-icon.png     # System tray icon (16x16)
‚îî‚îÄ‚îÄ notification.mp3  # Notification sound (optional)
```
‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
```
https://techicons.dev/icons/electron?utm_source=chatgpt.com
https://pixabay.com/sound-effects/search/notification/?utm_source=chatgpt.com

```


---

## üìû **Troubleshooting**

### **‚ùå Common Issues ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**

**Issue 1: "Electron won't start"**
```bash
# ‡∏•‡∏ö node_modules ‡πÅ‡∏•‡∏∞ install ‡πÉ‡∏´‡∏°‡πà
rm -rf node_modules package-lock.json
npm install
npm run electron-dev
```

**Issue 2: "Cannot connect to backend"**
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö .env file
REACT_APP_API_URL=http://localhost:3001/api
REACT_APP_SOCKET_URL=http://localhost:3001

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö backend ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
curl http://localhost:3001/health
```

**Issue 3: "White screen in Electron"**
```bash
# ‡πÄ‡∏õ‡∏¥‡∏î DevTools ‡πÉ‡∏ô Electron
mainWindow.webContents.openDevTools();

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö console errors
```

---

## ‚úÖ **Summary**

**üéâ Agent Desktop App ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:**
- ‚ö° **Electron application** ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ö‡∏ô desktop
- üîê **Login system** ‡∏û‡∏£‡πâ‡∏≠‡∏° validation
- üìä **Status management** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö agent
- üí¨ **Real-time messaging** ‡∏à‡∏≤‡∏Å supervisor
- üîî **Desktop notifications** ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà
- üéØ **System tray integration** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö quick access

**üí° Next Steps:**
1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö app ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö backend ‡πÅ‡∏•‡∏∞ supervisor dashboard
2. ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á UI/UX ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
3. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡∏°

**Happy Coding! üöÄ**

---

# üìã ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢‡πÉ‡∏ô Electron Agent App

## ‚ùå **‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢ - ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°**

### **1. Components ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏Ñ‡πâ‡∏î**
```javascript
// src/components/MessagePanel.js - ‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢
import React from 'react';

function MessagePanel({ messages }) {
  return (
    <div className="message-panel">
      <h3>Messages ({messages.length})</h3>
      <div className="message-list">
        {messages.length === 0 ? (
          <div className="no-messages">No messages yet</div>
        ) : (
          messages.map((message, index) => (
            <div key={index} className="message-item">
              <div className="message-header">
                <span className="sender">From: {message.fromCode}</span>
                <span className="time">
                  {new Date(message.timestamp).toLocaleTimeString()}
                </span>
              </div>
              <div className="message-content">{message.content}</div>
            </div>
          ))
        )}
      </div>
    </div>
  );
}

export default MessagePanel;
```

```javascript
// src/components/AgentInfo.js - ‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢
import React from 'react';

function AgentInfo({ agent, status }) {
  if (!agent) return null;

  return (
    <div className="agent-info">
      <div className="agent-header">
        <h2>Welcome, {agent.firstName} {agent.lastName}</h2>
        <div className="agent-details">
          <div>Agent Code: <strong>{agent.agentCode}</strong></div>
          <div>Team: <strong>{agent.teamName || 'N/A'}</strong></div>
          <div>Status: <span className={`status ${status.toLowerCase()}`}>{status}</span></div>
        </div>
      </div>
    </div>
  );
}

export default AgentInfo;
```

### **2. Services ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå**
```javascript
// src/services/notifications.js - ‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢
export const showDesktopNotification = (title, body, icon = null) => {
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Electron environment
  if (window.electronAPI) {
    window.electronAPI.showNotification(title, body);
  } else {
    // Fallback ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö web browser
    if ('Notification' in window && Notification.permission === 'granted') {
      new Notification(title, { body, icon });
    }
  }
};

export const requestNotificationPermission = async () => {
  if ('Notification' in window && Notification.permission === 'default') {
    const permission = await Notification.requestPermission();
    return permission === 'granted';
  }
  return Notification.permission === 'granted';
};
```

### **3. Utility Functions ‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢**
```javascript
// src/utils/dateUtils.js - ‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢
export const formatTime = (timestamp) => {
  return new Date(timestamp).toLocaleTimeString('th-TH', {
    hour: '2-digit',
    minute: '2-digit'
  });
};

export const formatDateTime = (timestamp) => {
  return new Date(timestamp).toLocaleString('th-TH');
};

export const getTimeAgo = (timestamp) => {
  const now = new Date();
  const time = new Date(timestamp);
  const diffInSeconds = Math.floor((now - time) / 1000);
  
  if (diffInSeconds < 60) return 'just now';
  if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`;
  if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`;
  return `${Math.floor(diffInSeconds / 86400)}d ago`;
};
```

```javascript
// src/utils/validation.js - ‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢
export const validateAgentCode = (code) => {
  if (!code) return 'Agent code is required';
  if (!/^[A-Z]{2}\d{3}$/.test(code)) {
    return 'Agent code must be format: AG001';
  }
  return null;
};

export const validateStatus = (status) => {
  const validStatuses = ['Available', 'Busy', 'Break', 'Offline'];
  return validStatuses.includes(status);
};
```

### **4. Configuration Files ‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢**
```bash
# .env.example - ‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢
REACT_APP_API_URL=http://localhost:3001/api
REACT_APP_SOCKET_URL=http://localhost:3001
ELECTRON_IS_DEV=true
```

```json
// public/index.html - ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Agent Wallboard Desktop Application" />
    <link rel="icon" href="%PUBLIC_URL%/assets/icon.png" />
    <title>Agent Wallboard</title>
    <style>
      /* Prevent zoom in Electron */
      body {
        zoom: 1;
        overflow-x: hidden;
      }
    </style>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
```

### **5. Asset Files ‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢**
```
public/assets/
‚îú‚îÄ‚îÄ icon.png          # App icon (256x256)
‚îú‚îÄ‚îÄ tray-icon.png     # System tray icon (16x16)
‚îî‚îÄ‚îÄ notification.mp3  # Notification sound (optional)
```

### **6. Main Process ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå**
```javascript
// main.js - ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏° IPC handlers
const { app, BrowserWindow, Tray, Menu, ipcMain, Notification } = require('electron');
const path = require('path');
const isDev = process.env.NODE_ENV === 'development';

let mainWindow;
let tray;

// ‡πÄ‡∏û‡∏¥‡πà‡∏° IPC handlers
ipcMain.handle('show-notification', (event, { title, body }) => {
  new Notification({ title, body }).show();
});

ipcMain.handle('close-app', () => {
  app.quit();
});

function createWindow() {
  mainWindow = new BrowserWindow({
    width: 400,
    height: 600,
    minWidth: 350,
    minHeight: 500,
    icon: path.join(__dirname, 'public/assets/icon.png'),
    webPreferences: {
      nodeIntegration: false,
      contextIsolation: true,
      preload: path.join(__dirname, 'preload.js')
    },
    show: false, // Don't show until ready
    titleBarStyle: 'default'
  });

  // Load React app
  const startUrl = isDev 
    ? 'http://localhost:3000' 
    : `file://${path.join(__dirname, '../build/index.html')}`;
  
  mainWindow.loadURL(startUrl);

  // Show when ready
  mainWindow.once('ready-to-show', () => {
    mainWindow.show();
  });

  // Handle window close
  mainWindow.on('close', (event) => {
    if (!app.isQuiting) {
      event.preventDefault();
      mainWindow.hide();
    }
  });
}

function createTray() {
  tray = new Tray(path.join(__dirname, 'public/assets/tray-icon.png'));
  
  const contextMenu = Menu.buildFromTemplate([
    { 
      label: 'Show App', 
      click: () => {
        mainWindow.show();
        mainWindow.focus();
      }
    },
    { type: 'separator' },
    { 
      label: 'Quit', 
      click: () => {
        app.isQuiting = true;
        app.quit();
      }
    }
  ]);
  
  tray.setContextMenu(contextMenu);
  tray.setToolTip('Agent Wallboard');
  
  // Double click to show
  tray.on('double-click', () => {
    mainWindow.show();
    mainWindow.focus();
  });
}

app.whenReady().then(() => {
  createWindow();
  createTray();
});

app.on('window-all-closed', () => {
  if (process.platform !== 'darwin') {
    app.quit();
  }
});

app.on('activate', () => {
  if (BrowserWindow.getAllWindows().length === 0) {
    createWindow();
  }
});

// Prevent multiple instances
const gotTheLock = app.requestSingleInstanceLock();

if (!gotTheLock) {
  app.quit();
} else {
  app.on('second-instance', () => {
    if (mainWindow) {
      if (mainWindow.isMinimized()) mainWindow.restore();
      mainWindow.focus();
    }
  });
}
```

## ‚ö†Ô∏è **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°**

### **1. API Integration ‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå**
- loginAgent() function ‡πÉ‡∏ô api.js ‡πÑ‡∏°‡πà handle error response properly
- ‡πÑ‡∏°‡πà‡∏°‡∏µ token storage ‡πÅ‡∏•‡∏∞ management
- ‡πÑ‡∏°‡πà‡∏°‡∏µ automatic retry mechanism

### **2. WebSocket Error Handling**
- ‡πÑ‡∏°‡πà‡∏°‡∏µ reconnection logic
- ‡πÑ‡∏°‡πà handle connection timeouts
- ‡πÑ‡∏°‡πà‡∏°‡∏µ error state management

### **3. CSS ‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö**
- ‡πÑ‡∏°‡πà‡∏°‡∏µ styles ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö message-panel
- ‡πÑ‡∏°‡πà‡∏°‡∏µ responsive design
- ‡πÑ‡∏°‡πà‡∏°‡∏µ loading states

### **4. Development Scripts**
```json
// package.json scripts ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á
{
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build", 
    "electron": "electron .",
    "electron-dev": "concurrently \"npm start\" \"wait-on http://localhost:3000 && electron .\"",
    "electron-pack": "npm run build && electron-builder",
    "preelectron-pack": "npm run build"
  }
}
```

## ‚úÖ **‡∏™‡∏£‡∏∏‡∏õ**

**‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå: 60-65%**

**‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:**
- 4-5 component files
- 2-3 service files  
- 2-3 utility files
- Configuration files
- Asset files
- IPC handlers ‡πÉ‡∏ô main process

**‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:** 3-4 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô